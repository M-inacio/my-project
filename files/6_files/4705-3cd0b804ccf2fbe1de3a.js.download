/*! For license information please see 4705-3cd0b804ccf2fbe1de3a.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[4705],{80977:function(t,e,n){"use strict";var r=n(84481),i=(0,r.createContext)([]);e.Z=i},38098:function(t,e,n){"use strict";var r=n(85893),i=n(84481),o=n(80977);e.Z=function(t,e){return function(n){var a=(0,i.useContext)(o.Z),u=(0,i.useMemo)((function(){return[].concat(a,[e])}),[a,e]);return t.displayName="TrackingLocation("+e+")",(0,r.jsx)(o.Z.Provider,{value:u,children:(0,r.jsx)(t,Object.assign({},n))})}}},18930:function(t,e,n){"use strict";var r=n(84481),i=n(80977);e.Z=function(){var t=(0,r.useContext)(i.Z);return(0,r.useMemo)((function(){return 0===t.length?void 0:t.join("-")}),[t])}},97871:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){var e;return{event:"asset_interaction",event_name:"select_asset",asset_interaction:"select_asset",ui_element_location:null!=(e=t.ui_element_location)?e:"thumbnail",asset_id:t.asset_id,asset_type:t.asset_type,asset_family:t.asset_family,istock_collection:t.istock_collection,has_nudity:t.has_nudity}}))},21499:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){var e,n;return{event:"cta_interaction",event_name:null!=(e=t.cta_interaction)?e:"cta_clicked",cta_interaction:null!=(n=t.cta_interaction)?n:"cta_clicked",cta_text:t.cta_text,cta_url:t.cta_url,ui_element_location:t.ui_element_location}}))},54179:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r=(0,n(17129).Qg)((function(t){var e,n,r,i,o,a,u,s=t.asset_details,c=t.download_method,l=t.is_eps,f=void 0!==l&&l;return Object.assign({event:"download_asset",download_type:(o=null==s?void 0:s.asset_type,a=null==s?void 0:s.media_type,u=f,void 0===u&&(u=!1),"illustration"===a&&u?"vector_download":"image"===(null==o?void 0:o.toLowerCase())?"image_download":"film"===(null==o?void 0:o.toLowerCase())?"video_download":"asset_download"),download_method:c||void 0,asset_id:null==s?void 0:s.asset_id,asset_type:null==s?void 0:s.asset_type,asset_family:null==s?void 0:s.asset_family},(null==(e=window)||null==(n=e.currentSite)?void 0:n.isGetty)&&{asset_collection:null==s?void 0:s.asset_collection},(null==(r=window)||null==(i=r.currentSite)?void 0:i.isGetty)&&{asset_license_type:null==s?void 0:s.asset_license_type})}))},75328:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){var e=t.asset_details,n=t.download_selection,r=void 0===n?null:n,i=t.ui_element_location,o=void 0===i?null:i;return{event:"download_interaction",event_name:"initiate_download",download_interaction:"initiate_download",download_selection:r,asset_id:e.asset_id,asset_type:e.asset_type,asset_family:e.asset_family,asset_category:e.asset_category,asset_size:e.asset_size,ui_element_location:o}}))},51155:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){return{event:"error_message_interaction",event_name:"error_message_shown",error_message_interaction:"error_message_shown",error_message_selection:t.error_message_selection,error_message_name:t.error_message_name,ui_element_location:t.ui_element_location}}))},31465:function(t,e,n){"use strict";var r=n(17129);e.Z=(0,r.Qg)((function(t){var e=t.event_name,n=t.member_interaction;return{event:"member_management_interaction",event_name:e,member_interaction:null!=n?n:e,member_selection:t.member_selection,ui_element_location:t.ui_element_location}}))},94159:function(t,e,n){"use strict";var r=n(17129),i=function(t){switch(t){case"iStock|Product|VectorFCP":return"vector";case"iStock|Product|PhotoFCP":return"photo";case"iStock|Product|VideoFCP":return"video";default:return"other"}},o=function(t){return t.asset_type||"no asset type found"};e.Z=(0,r.Qg)((function(t){var e=t.page_name,n=t.asset_details;try{if(function(t){return t.includes("iStock|Product")}(e))return{event:"adp_view",adp_type:i(e)};if(function(t){return t.includes("InsideDetail-")}(e))return{event:"adp_view",adp_type:o(n)};if(function(t){return t.includes("iStock|Payment|PlansAndPricing")||t.includes("PlansAndPricing|Main")}(e))return{event:"pnp_view"}}catch(t){}}))},97355:function(t,e,n){"use strict";n.d(e,{A:function(){return r}});var r=(0,n(17129).Qg)((function(t){var e=t.event_name;return{event:"search_interaction",event_name:e,search_interaction:e,search_selection:t.search_selection,ui_element_location:t.ui_element_location,search_grid_slot_number:t.search_grid_slot_number}}))},3382:function(t,e,n){"use strict";n.d(e,{lq:function(){return _},Tg:function(){return h},u:function(){return u}});var r=n(84481),i=n.n(r),o={tooltip:"Tooltip-module__tooltip___bqzxX",left:"Tooltip-module__left___MfXaY","left-bottom":"Tooltip-module__left-bottom___NX2Lc","left-top":"Tooltip-module__left-top___sinIA",right:"Tooltip-module__right___iPLWf","right-bottom":"Tooltip-module__right-bottom___iuGMN","right-top":"Tooltip-module__right-top___RjGsC",top:"Tooltip-module__top___cTqJz","top-right":"Tooltip-module__top-right___ZQNep","top-left":"Tooltip-module__top-left___UHxjQ",bottom:"Tooltip-module__bottom___GqVN0","bottom-right":"Tooltip-module__bottom-right___QndeS","bottom-left":"Tooltip-module__bottom-left___ALGYY"},a=n(85893),u=function(t){var e=t.children,n=t.className,i=t.placement,u=t.name,s=t.trackViewed;return(0,r.useEffect)((function(){s()}),[]),(0,a.jsx)("div",{className:[o.tooltip,o[i],n].join(" "),role:"tooltip",id:u,children:e})};u.defaultProps={className:"",name:"info",placement:"left",trackViewed:function(){return null}};var s=["styles"];function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}var l=function(t){t.styles;var e=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s);return i().createElement("svg",c({width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i().createElement("path",{d:"M8 1.053L7.474.526 6.947 0 4 2.947 1.053 0 .526.526 0 1.053 2.947 4 0 6.947l.526.527.527.526L4 5.053 6.947 8l.527-.526L8 6.947 5.053 4 8 1.053z",fill:"#080808"}))},f="DismissibleTooltip-module__dismiss___qHfLU",_=function(t){var e=t.children,n=t.localStorageKey,i=t.isTooltipVisible,o=t.trackViewed,s=t.trackDismissed,c=t.className,_=t.placement,d=t.name,h=(0,r.useState)(!1),p=h[0],v=h[1];return(0,r.useEffect)((function(){var t=JSON.parse(window.localStorage.getItem(n));!i||null!==t&&!1!==t.dismissed?v(!1):v(!0)}),[i]),p&&(0,a.jsxs)(u,{placement:_,name:d,className:c,trackViewed:o,children:[e,(0,a.jsx)("button",{className:f,type:"button",onClick:function(){var t;t={timestamp:new Date,dismissed:!0},window.localStorage.setItem(n,JSON.stringify(t)),v(!1),s()},"aria-label":"close",children:(0,a.jsx)(l,{})})]})};_.defaultProps={isTooltipVisible:!0,placement:"left",className:"",name:"info",trackViewed:function(){return null},trackDismissed:function(){return null}};var d="HoverableTooltip-module__trigger___xHKE7",h=function(t){var e=t.children,n=t.className,i=t.name,o=t.placement,s=t.trackViewed,c=t.trigger,l=(0,r.useState)(!1),f=l[0],_=l[1],h=(0,r.useState)(!1),p=h[0],v=h[1];return(0,a.jsxs)("div",{"data-testid":"hoverableTooltip",children:[(0,a.jsx)("div",{"data-testid":"hoverTrigger",className:d,onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)},children:c}),(f||p)&&(0,a.jsx)("div",{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:(0,a.jsx)(u,{placement:o,name:i,className:n,trackViewed:s,children:e})})]})};h.defaultProps={className:"",name:"info",placement:"top",trackViewed:function(){return null}}},23967:function(t,e,n){"use strict";function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.r(e);var o=function(){function t(){}var e=t.prototype;return e._parseQuery=function(t){for(var e,n={},i="image",o=r(t.toLowerCase().split("&"));!(e=o()).done;){var a=e.value,u=Array.from(a.split("=")),s=u[0],c=u[1];"assettype"===s&&(i=c),this._addItem(n,s,decodeURIComponent(c))}return n.assettype||this._addItem(n,"assettype",i),[n,i]},e._addItem=function(t,e,n){return t[e]||(t[e]={}),t[e][n]=n,!0},e._buildQuery=function(t){var e=this._parseQuery(t),n=e[0],r=e[1],i=["language","contracturl","assettype"],o=[];for(var a in n){var u=n[a];if(!i.contains(a))for(var s in u){var c=u[s];""!==c&&o.push(a+"="+encodeURIComponent(c))}}return[o.join("&"),r]},e.parseQuery=function(t){return this._parseQuery(t)},e.normalizeUrl=function(t){var e=t.split("?"),n=e[0];if(e.length>1){var r=e[1],i=this._buildQuery(r),o=i[0];i[1];return[n+"?"+o,r]}return[n,""]},e.normalizeUrlFromQuery=function(t){var e=this._buildQuery(t),n=e[0],r=e[1];return["/search/2/"+r+"?"+n,r]},t}();e.default=o},97815:function(t,e,n){"use strict";n.d(e,{jZ:function(){return B},xI:function(){return Z},qR:function(){return K},OW:function(){return W},Rc:function(){return G},e6:function(){return $},ML:function(){return L},vs:function(){return tt},rK:function(){return Ft},x1:function(){return Fe},bA:function(){return Jt},zt:function(){return R},rY:function(){return We},fV:function(){return m},Zo:function(){return z},L$:function(){return v},b5:function(){return j}});var r,i,o=n(84481),a=n.n(o),u=n(52965),s=n.n(u),c="/components/asset-mod/api",l=function(t,e){return s().post("".concat(c,"/modifications/info"),{visualId:t,assetId:e})},f=n(82056),_=function(t,e){void 0===e&&(e={}),function(t,e){void 0===e&&(e={}),(0,f.r$)(t,e)}(t,e)},d=n(6905),h=function(t){var e=t?"Restore":"Remove";!function(t){var e=t?"restored":"removed";window&&window.tracking_data&&(window.tracking_data.page_mode=window.tracking_data.page_mode?window.tracking_data.page_mode+"|"+"adp_background_".concat(e):"adp_background_".concat(e))}(t),(0,d.j)({name:"adpInteraction",payload:{adp_interaction:"image_ADP_".concat(e,"_Background_Button_Click"),adp_selection:"ADP_".concat(e,"_Background"),ui_element_location:"image_adp_tools_panel_top"}})},p=n(24735),v=function(){var t=(0,o.useContext)(T);return{previewImage:t.previewImage,setPreviewImage:t.setPreviewImage,loading:t.loading}},m=function(t){var e=(0,p._P)("BriaModificationButton"),n=(0,p._P)("BriaModificationTool"),r=e.isActive()||n.isActive(),i=(0,p.aF)().modificationsPermitted;return t.isImage&&!t.isIllustration&&!t.isVector&&i&&r},y=(0,o.createContext)({objects:[],toggleObjectSelected:function(t){}}),g=function(t){var e=t.objects,n=t.children,r=(0,o.useState)({objects:e}),i=r[0].objects,u=r[1];return a().createElement(y.Provider,{value:{objects:i,toggleObjectSelected:function(t){t.selected=!t.selected,u({objects:i})}}},n)},b=function(){return(0,o.useContext)(y)},w=["happy","calm","surprised","angry","fear","contempt","disgusted","sad"];!function(t){t.Person="person",t.Background="background",t.Object="object"}(r||(r={})),function(t){t.High="high"}(i||(i={}));var C,E,S=function(t){var e=t.permitted,n=t.actionsObjectArray;if(!e)return[];var i=n.map((function(t){if(function(t){var e,n,i,o=t.type===r.Background,a=(null===(n=null===(e=t.actions)||void 0===e?void 0:e.remove)||void 0===n?void 0:n.includes(!0))&&!0===(null===(i=t.oracle)||void 0===i?void 0:i.remove);return o&&a||null}(t))return{id:t.id,type:r.Background,labels:t.labels,modifications:["remove"]}})).filter((function(t){return!!t}))||[];return i},M=function(t){var e=t.permitted,n=t.actionsObjectArray;if(!e)return[];var o=n.map((function(t){var e=function(t){var e,n,o=t.type!==r.Person,a=void 0===(null===(e=t.actions)||void 0===e?void 0:e.expression)||void 0===(null===(n=t.oracle)||void 0===n?void 0:n.expression);if(o||a)return null;var u=t.actions.expression,s=u?u.filter((function(e){return w.includes(e)&&t.oracle.expression[e]===i.High})):[];return s.length>0?s:null}(t);if(e)return{id:t.id,type:r.Person,labels:t.labels,modifications:e}})).filter((function(t){return!!t}))||[];return o},x=function(t){var e=t.permitted,n=t.actionsObjectArray;if(!e)return[];var i=n.map((function(t){var e=function(t){var e,n,i,o,a=null===(e=null==t?void 0:t.labels)||void 0===e?void 0:e.includes(r.Object),u=(null===(i=null===(n=t.actions)||void 0===n?void 0:n.remove)||void 0===i?void 0:i.includes(!0))&&(null===(o=t.oracle)||void 0===o?void 0:o.remove),s=t.type;return a&&u?s:null}(t);if(e)return{id:t.id,type:r.Object,labels:t.labels,modifications:e,selected:!1}})).filter((function(t){return!!t}))||[];return i.sort((function(t,e){return t.modifications.localeCompare(e.modifications)})),i},I=function(t){var e=null;return t.background.length>0&&(e=r.Background),t.expressions.length>0&&(e=r.Person),t.objects.length>0&&(e=r.Object),e},k=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},O=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},j=function(t){var e=t.asset,n=(0,o.useContext)(T),r=m(e),i=(0,p._P)("BriaModificationButton"),a=(0,p._P)("BriaModificationTool"),u=n.visualId,f=n.setVisualId,d=n.loading,v=n.setLoading,y=n.modifiedImage,g=n.showEditor,b=n.setShowEditor,w=n.showErrorMessage,C=n.setShowErrorMessage,E=n.assetCanBeModified,j=n.setAssetCanBeModified,z=n.modificationType,A=n.setModificationType,D=n.availableModifications,R=n.setAvailableModifications,N=function(){return k(void 0,void 0,void 0,(function(){var t,n,r,o,u,d,h,p,v;return O(this,(function(m){switch(m.label){case 0:return m.trys.push([0,4,,5]),[4,(y=e.assetId,s().post("".concat(c,"/modifications/register"),{assetId:y}))];case 1:return t=m.sent(),(n=t.data.visualId)?(f(n),[4,l(n,e.assetId)]):[3,3];case 2:205!==(null==(r=m.sent())?void 0:r.status)&&r.data&&(o=r.data.assetInfo,u=function(t){var e,n=t.assetInfo,r=t.permissions;if(!((null===(e=n.scene)||void 0===e?void 0:e.length)>0))return null;var i=r.backgroundModificationsPermitted,o=r.expressionModificationsPermitted,a=r.objectModificationsPermitted,u={background:S({permitted:i,actionsObjectArray:n.scene}),expressions:M({permitted:o,actionsObjectArray:n.scene}),objects:x({permitted:a,actionsObjectArray:n.scene})},s=I(u);return s?{availableModifications:u,assetCanBeModified:!0,modificationType:s}:{availableModifications:null,assetCanBeModified:!1,modificationType:null}}({assetInfo:o,permissions:{backgroundModificationsPermitted:i.isActive(),expressionModificationsPermitted:!1,objectModificationsPermitted:a.isActive()}}),d=u.availableModifications,h=u.assetCanBeModified,p=u.modificationType,j(h),A(p),R(d)),m.label=3;case 3:return[3,5];case 4:return v=m.sent(),_(v),[3,5];case 5:return[2]}var y}))}))};return(0,o.useEffect)((function(){r&&N()}),[r]),{handleDismissal:function(){C(!w)},handleRemoveBackground:function(){h(g),b(!g),v(!0)},handleModifyAsset:function(t){},visualId:u,loading:d,modifiedImage:y,showEditor:g,showErrorMessage:w,assetCanBeModified:E,modificationType:z,availableModifications:D}},z=function(){var t=(0,o.useContext)(T),e=t.showFeedbackModal,n=t.setShowFeedbackModal,r=t.showFeedbackBanner,i=t.setShowFeedbackBanner;return{showFeedbackModal:e,toggleFeedbackModal:function(){n(!e)},showFeedbackBanner:r,setShowFeedbackBanner:i}},A=(0,o.createContext)({showModal:!1,openModal:function(){},closeModal:function(){},modalIsClosing:!1}),D=function(t){var e=t.children,n=(0,o.useState)(!1),r=n[0],i=n[1],u=(0,o.useState)(!1),s=u[0],c=u[1];return a().createElement(A.Provider,{value:{showModal:r,openModal:function(){return i(!0)},closeModal:function(){c(!0),setTimeout((function(){i(!1),c(!1)}),500)},modalIsClosing:s}},e)},T=a().createContext(void 0),R=function(t){var e=t.children,n=(0,o.useState)(null),r=n[0],i=n[1],u=(0,o.useState)(!1),s=u[0],c=u[1],l=(0,o.useState)(null),f=l[0],_=l[1],d=(0,o.useState)(!1),h=d[0],p=d[1],v=(0,o.useState)(!1),m=v[0],y=v[1],g=(0,o.useState)(!1),b=g[0],w=g[1],C=(0,o.useState)(!0),E=C[0],S=C[1],M=(0,o.useState)(!1),x=M[0],I=M[1],k=(0,o.useState)(null),O=k[0],j=k[1],z=(0,o.useState)(null),A=z[0],R=z[1],N=(0,o.useState)(null),P=N[0],H=N[1];return a().createElement(T.Provider,{value:{visualId:r,setVisualId:i,loading:s,setLoading:c,modifiedImage:f,setModifiedImage:_,showEditor:h,setShowEditor:p,showErrorMessage:m,setShowErrorMessage:y,showFeedbackModal:b,setShowFeedbackModal:w,showFeedbackBanner:E,setShowFeedbackBanner:S,assetCanBeModified:x,setAssetCanBeModified:I,modificationType:O,setModificationType:j,availableModifications:A,setAvailableModifications:R,previewImage:P,setPreviewImage:H}},a().createElement(D,null,e))},N="styles-module__container___ZYEtN",P="styles-module__containerImage___WkayV",H=function(t){var e=t.visualId,n=t.LoadingComponent,r=t.aspectRatio,i=t.assetId,u=(0,o.useContext)(T),s=v().setPreviewImage,c=(0,o.useRef)(),l=u.loading,f=u.setShowEditor,_=u.setLoading,d=u.setShowErrorMessage;return a().createElement("div",{className:P,"data-testid":"editor-image",style:{aspectRatio:r}},l&&a().createElement("div",{className:N},a().createElement(n,null)),a().createElement("img",{src:"/components/asset-mod/api/modifications/remove_bg/".concat(e,"/watermarked/image.png?assetId=").concat(i),ref:c,onLoad:function(){s(c.current),_(!1)},onError:function(){return _(!1),f(!1),void d(!0)}}))},L=(0,o.memo)(H),V="styles-module__button___cBae7",B=function(t){var e=t.Icon,n=t.text,r=t.handleClick;return(0,o.useEffect)((function(){(0,d.j)({name:"buttonShown",payload:{banner_name:"ADP_remove_background_button",ui_element_location:"image_adp_tools_panel_top"}})}),[]),a().createElement("button",{className:V,"data-testid":"background-removal-button",onClick:function(){return r()}},e&&a().createElement(e,null),n)},q="styles-module__container___t4sdt",Z=function(t){var e=t.firstListItemText,n=t.secondListItemText,r=t.checkDownloadsText,i=t.redownloadText;return a().createElement("section",{className:q,"data-testid":"background-removal-confirmation"},a().createElement("ul",null,a().createElement("li",null,e),a().createElement("li",null,n)),a().createElement("p",null,r),a().createElement("span",{id:"download-again"},i))},U="styles-module__container___Rt9LV",K=function(t){var e=t.title,n=t.firstListItemText,r=t.secondListItemText;return a().createElement("div",{className:U,"data-testid":"background-removal-details"},a().createElement("p",null,e),a().createElement("ul",null,a().createElement("li",null,n),a().createElement("li",null,r)))},F="styles-module__container___CcdW0",W=function(t){var e=t.text,n=t.Icon,r=t.handleDismissal;return(0,o.useEffect)((function(){(0,d.j)({name:"bannerShown",payload:{banner_name:"ADP_remove_background_error_banner",ui_element_location:"image_adp_tools_panel_top"}})}),[]),a().createElement("div",{className:F,"data-testid":"background-removal-error"},a().createElement("p",null,e),a().createElement("button",{type:"button",onClick:r},n&&a().createElement(n,null),a().createElement("span",null,"Close")))},Q=(C=function(t,e){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},C(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),J=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hasError:!1},e}return Q(e,t),e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(t,e){_(t,e)},e.prototype.render=function(){return this.state.hasError?null:this.props.children},e}(o.Component),G=J,Y="styles-module__container___y9Ptb",$=function(t){var e=t.title;return a().createElement("div",{className:Y,"data-testid":"background-removal-header"},a().createElement("h2",null,e))},X="styles-module__container___aYy1r",tt=function(t){var e=t.text,n=t.buttonText,r=t.toggleModal;(0,o.useEffect)((function(){window&&window.innerWidth>640&&(0,d.j)({name:"bannerShown",payload:{banner_name:"ADP_remove_background_feedback_banner",ui_element_location:"image_adp_tools_panel_top"}})}),[]);return a().createElement("div",{className:X,"data-testid":"feedback-banner"},a().createElement("p",null,e),a().createElement("button",{type:"button","data-testid":"feedback-button",onClick:function(){(0,d.j)({name:"bannerCtaClick",payload:{banner_name:"ADP_remove_background_feedback_banner",ui_element_location:"image_adp_tools_panel_top"}}),r()}},n))},et=n(99183),nt=function(t){return s().post("/modifications/feedback",{feedback:t})},rt="styles-module__activeRed___Fh_Uk",it="styles-module__activeGreen___JZFi5",ot="styles-module__red___sPD8P",at="styles-module__green____H8wp",ut=function(t){var e=t.active;return a().createElement("svg",{className:e?rt:ot,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 19.125C2.25 9.80519 9.80519 2.25 19.125 2.25C28.4448 2.25 36 9.80519 36 19.125C36 28.4448 28.4448 36 19.125 36C9.80519 36 2.25 28.4448 2.25 19.125ZM19.125 0C8.56255 0 0 8.56255 0 19.125C0 29.6874 8.56255 38.25 19.125 38.25C29.6874 38.25 38.25 29.6874 38.25 19.125C38.25 8.56255 29.6874 0 19.125 0ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.4587 11.1573 13.6959 12.0262 13.5324L9.99072 12.3572C9.51243 12.0811 9.34855 11.4695 9.6247 10.9912C9.90084 10.5129 10.5124 10.349 10.9907 10.6252L13.8724 12.2889C14.3506 12.565 14.5145 13.1766 14.2384 13.6549C14.1203 13.8594 13.9409 14.0064 13.7368 14.0862C14.0549 14.4222 14.25 14.8758 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 15.0175 24.1001 14.6833 24.2738 14.399C24.01 14.3402 23.7708 14.1753 23.6251 13.9229C23.349 13.4446 23.5128 12.833 23.9911 12.5568L26.8728 10.8931C27.3511 10.617 27.9626 10.7809 28.2388 11.2592C28.5149 11.7375 28.3511 12.349 27.8728 12.6252L26.2811 13.5441C27.1214 13.7297 27.75 14.4789 27.75 15.375ZM14.0625 23.8619C15.6021 22.9754 17.3476 22.5088 19.1242 22.5088C20.9008 22.5088 22.6463 22.9754 24.1859 23.8619C25.7255 24.7485 27.0053 26.0238 27.8972 27.5603C28.2091 28.0977 28.0263 28.7861 27.489 29.0981C26.9516 29.41 26.2632 29.2272 25.9512 28.6898C25.2572 27.4941 24.2613 26.5017 23.0632 25.8118C21.8651 25.1219 20.5068 24.7588 19.1242 24.7588C17.7417 24.7588 16.3834 25.1219 15.1853 25.8118C13.9871 26.5017 12.9912 27.4941 12.2972 28.6898C11.9853 29.2272 11.2968 29.41 10.7595 29.0981C10.2221 28.7861 10.0393 28.0977 10.3512 27.5603C11.2431 26.0238 12.5229 24.7485 14.0625 23.8619Z",fill:"#ADB9BA"}))},st=function(t){var e=t.active;return a().createElement("svg",{className:e?rt:ot,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 19.125C2.25 9.80519 9.80519 2.25 19.125 2.25C28.4448 2.25 36 9.80519 36 19.125C36 28.4448 28.4448 36 19.125 36C9.80519 36 2.25 28.4448 2.25 19.125ZM19.125 0C8.56255 0 0 8.56255 0 19.125C0 29.6874 8.56255 38.25 19.125 38.25C29.6874 38.25 38.25 29.6874 38.25 19.125C38.25 8.56255 29.6874 0 19.125 0ZM19.1244 22.5088C17.3478 22.5088 15.6024 22.9754 14.0628 23.862C12.5231 24.7485 11.2433 26.0238 10.3515 27.5604C10.0396 28.0977 10.2223 28.7862 10.7597 29.0981C11.2971 29.41 11.9855 29.2272 12.2974 28.6899C12.9915 27.4942 13.9874 26.5017 15.1855 25.8118C16.3836 25.1219 17.7419 24.7588 19.1244 24.7588C20.507 24.7588 21.8653 25.1219 23.0634 25.8118C24.2615 26.5017 25.2574 27.4942 25.9515 28.6899C26.2634 29.2272 26.9518 29.41 27.4892 29.0981C28.0266 28.7862 28.2093 28.0977 27.8974 27.5604C27.0056 26.0238 25.7258 24.7485 24.1861 23.862C22.6465 22.9754 20.9011 22.5088 19.1244 22.5088ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.3395 11.3395 13.5 12.375 13.5C13.4105 13.5 14.25 14.3395 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 14.3395 24.8395 13.5 25.875 13.5C26.9105 13.5 27.75 14.3395 27.75 15.375Z",fill:"#ADB9BA"}))},ct=function(t){var e=t.active;return a().createElement("svg",{className:e?it:at,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.125 2.25C9.80519 2.25 2.25 9.80519 2.25 19.125C2.25 28.4448 9.80519 36 19.125 36C28.4448 36 36 28.4448 36 19.125C36 9.80519 28.4448 2.25 19.125 2.25ZM0 19.125C0 8.56255 8.56255 0 19.125 0C29.6874 0 38.25 8.56255 38.25 19.125C38.25 29.6874 29.6874 38.25 19.125 38.25C8.56255 38.25 0 29.6874 0 19.125ZM10.5 25.125C10.5 24.5037 11.0037 24 11.625 24H26.625C27.2463 24 27.75 24.5037 27.75 25.125C27.75 25.7463 27.2463 26.25 26.625 26.25H11.625C11.0037 26.25 10.5 25.7463 10.5 25.125ZM14.25 15.375C14.25 16.4105 13.4105 17.25 12.375 17.25C11.3395 17.25 10.5 16.4105 10.5 15.375C10.5 14.3395 11.3395 13.5 12.375 13.5C13.4105 13.5 14.25 14.3395 14.25 15.375ZM27.75 15.375C27.75 16.4105 26.9105 17.25 25.875 17.25C24.8395 17.25 24 16.4105 24 15.375C24 14.3395 24.8395 13.5 25.875 13.5C26.9105 13.5 27.75 14.3395 27.75 15.375Z",fill:"#ADB9BA"}))},lt=function(t){var e=t.active;return a().createElement("svg",{className:e?it:at,width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.125 2.25C9.80519 2.25 2.25 9.80519 2.25 19.125C2.25 28.4448 9.80519 36 19.125 36C28.4448 36 36 28.4448 36 19.125C36 9.80519 28.4448 2.25 19.125 2.25ZM0 19.125C0 8.56255 8.56255 0 19.125 0C29.6874 0 38.25 8.56255 38.25 19.125C38.25 29.6874 29.6874 38.25 19.125 38.25C8.56255 38.25 0 29.6874 0 19.125ZM12.375 17.25C13.4105 17.25 14.25 16.4105 14.25 15.375C14.25 14.3395 13.4105 13.5 12.375 13.5C11.3395 13.5 10.5 14.3395 10.5 15.375C10.5 16.4105 11.3395 17.25 12.375 17.25ZM25.875 17.25C26.9105 17.25 27.75 16.4105 27.75 15.375C27.75 14.3395 26.9105 13.5 25.875 13.5C24.8395 13.5 24 14.3395 24 15.375C24 16.4105 24.8395 17.25 25.875 17.25ZM12.2977 23.0602C11.9858 22.5229 11.2973 22.3401 10.76 22.652C10.2226 22.9639 10.0398 23.6524 10.3517 24.1898C11.2436 25.7263 12.5234 27.0016 14.063 27.8882C15.6026 28.7747 17.3481 29.2413 19.1247 29.2413C20.9013 29.2413 22.6468 28.7747 24.1864 27.8882C25.726 27.0016 27.0058 25.7263 27.8977 24.1898C28.2096 23.6524 28.0268 22.9639 27.4895 22.652C26.9521 22.3401 26.2636 22.5229 25.9517 23.0602C25.2577 24.256 24.2618 25.2484 23.0637 25.9383C21.8655 26.6282 20.5072 26.9913 19.1247 26.9913C17.7422 26.9913 16.3839 26.6282 15.1858 25.9383C13.9876 25.2484 12.9917 24.256 12.2977 23.0602Z",fill:"#ADB9BA"}))},ft=function(t){var e=t.active;return a().createElement("svg",{className:e?it:at,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.125 20C3.125 10.6802 10.6802 3.125 20 3.125C29.3198 3.125 36.875 10.6802 36.875 20C36.875 29.3198 29.3198 36.875 20 36.875C10.6802 36.875 3.125 29.3198 3.125 20ZM20 0.875C9.43755 0.875 0.875 9.43755 0.875 20C0.875 30.5624 9.43755 39.125 20 39.125C30.5624 39.125 39.125 30.5624 39.125 20C39.125 9.43755 30.5624 0.875 20 0.875ZM12 23.875C11.619 23.875 11.2639 24.0679 11.0564 24.3874C10.8489 24.707 10.8173 25.1099 10.9724 25.4579C11.8527 27.4334 13.1319 29.1098 14.7093 30.2928C16.2908 31.4789 18.1159 32.125 20 32.125C21.8841 32.125 23.7092 31.4789 25.2907 30.2928C26.8681 29.1098 28.1473 27.4334 29.0276 25.4579C29.1827 25.1099 29.1511 24.707 28.9436 24.3874C28.7361 24.0679 28.381 23.875 28 23.875H12ZM16.0593 28.4928C15.2444 27.8817 14.5066 27.0819 13.8844 26.125H26.1156C25.4934 27.0819 24.7556 27.8817 23.9407 28.4928C22.7143 29.4126 21.356 29.875 20 29.875C18.644 29.875 17.2857 29.4126 16.0593 28.4928ZM14 16.125C12.9645 16.125 12.125 16.9645 12.125 18C12.125 18.6213 11.6213 19.125 11 19.125C10.3787 19.125 9.875 18.6213 9.875 18C9.875 15.7218 11.7218 13.875 14 13.875C16.2782 13.875 18.125 15.7218 18.125 18C18.125 18.6213 17.6213 19.125 17 19.125C16.3787 19.125 15.875 18.6213 15.875 18C15.875 16.9645 15.0355 16.125 14 16.125ZM24.125 18C24.125 16.9645 24.9645 16.125 26 16.125C27.0355 16.125 27.875 16.9645 27.875 18C27.875 18.6213 28.3787 19.125 29 19.125C29.6213 19.125 30.125 18.6213 30.125 18C30.125 15.7218 28.2782 13.875 26 13.875C23.7218 13.875 21.875 15.7218 21.875 18C21.875 18.6213 22.3787 19.125 23 19.125C23.6213 19.125 24.125 18.6213 24.125 18Z",fill:"#ADB9BA"}))},_t="styles-module__ratingContainer___XpRhO",dt="styles-module__listItem___w3LVI",ht=function(t){var e=t.activeIcon,n=t.handleRating,r=t.Icon,i=t.id,o=t.text,u=t.value,s=e===i;return a().createElement("li",{key:o,className:dt},a().createElement("input",{type:"radio",id:i,"data-testid":"list-item",name:"rating",value:u,onClick:n}),a().createElement("label",{htmlFor:i},a().createElement(r,{active:s}),a().createElement("span",null,o)))},pt=function(t){var e=t.activeIcon,n=t.handleRating,r=t.iconText,i=r.veryPoor,o=r.poor,u=r.fair,s=r.good,c=r.great;return a().createElement("div",{className:_t,"data-testid":"rating-list"},a().createElement("ul",null,a().createElement(ht,{activeIcon:e,handleRating:n,Icon:ut,id:"very-poor",text:i,value:"1"}),a().createElement(ht,{activeIcon:e,handleRating:n,Icon:st,id:"poor",text:o,value:"2"}),a().createElement(ht,{activeIcon:e,handleRating:n,Icon:ct,id:"fair",text:u,value:"3"}),a().createElement(ht,{activeIcon:e,handleRating:n,Icon:lt,id:"good",text:s,value:"4"}),a().createElement(ht,{activeIcon:e,handleRating:n,Icon:ft,id:"great",text:c,value:"5"})))},vt="styles-module__button___UB8N4",mt=function(t){var e=t.handleClose;return a().createElement("button",{className:vt,type:"button",onClick:e,"data-testid":"close-button"},a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 98"},a().createElement("g",null,a().createElement("polygon",{points:"78.2 23.3 75 20.1 48.7 46.4 22.5 20.1 19.2 23.3 45.5 49.6 18.3 76.8 21.5 80.1 48.7 52.8 76 80.1 79.2 76.8 52 49.6 78.2 23.3",stroke:"#353838",strokeWidth:"1.25949"}))))},yt="styles-module__ratingDetailContainer___DbTdz",gt="styles-module__hidden___p6Vkv",bt=function(t){var e=t.comments,n=t.handleComment,r=t.handleReasonSelection,i=t.text,o=i.elementsNotRemoved,u=i.elementsWereErased,s=i.itTookTooLong,c=i.nothingHappened,l=i.other,f=i.selectReasonForRating;return a().createElement("fieldset",{className:yt},a().createElement("legend",null,f),a().createElement("input",{id:"nothingHappened",name:"rating-detail",type:"checkbox",value:"Nothing happened",onChange:r}),a().createElement("label",{htmlFor:"nothingHappened"},c),a().createElement("input",{type:"checkbox",name:"rating-detail",id:"elementNotRemoved",value:"Elements were not properly removed",onChange:r}),a().createElement("label",{htmlFor:"elementNotRemoved"},o),a().createElement("input",{type:"checkbox",name:"rating-detail",id:"elementErased",value:"Essential elements were erased",onChange:r}),a().createElement("label",{htmlFor:"elementErased"},u),a().createElement("input",{type:"checkbox",name:"rating-detail",id:"itTookTooLong",value:"It took longer than expected",onChange:r}),a().createElement("label",{htmlFor:"itTookTooLong"},s),a().createElement("label",{className:gt,htmlFor:"other"},l),a().createElement("textarea",{id:"other",name:"rating-detail",placeholder:l,value:e,onChange:n}))},wt="styles-module__container___f7MYj",Ct=function(t){var e=t.comments,n=t.handleComment,r=t.text;return a().createElement("div",{className:wt,"data-testid":"comments"},a().createElement("label",{htmlFor:"comments"},r),a().createElement("textarea",{"data-testid":"comments-textarea",id:"comments",name:"comments",value:e,onChange:n}))},Et={contactContainer:"styles-module__contactContainer___eg8rh"},St=function(t){var e=t.handleCheckbox,n=t.canBeEmailedText,r=t.privacyPolicyText;return a().createElement("div",{className:Et.contactContainer,"data-testid":"contact"},a().createElement("input",{type:"checkbox",id:"contact","data-testid":"contact-checkbox",name:"contact",onClick:e}),a().createElement("label",{htmlFor:"contact",className:Et.contactLabel},n),a().createElement("p",null,r))},Mt=function(){return a().createElement("svg",{"data-testid":"confirmation-icon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("g",{clipPath:"url(#clip0_839_18929)"},a().createElement("path",{d:"M20.4983 32.9422L11.7803 24.2201L13.5376 22.4641L20.4983 29.4288L34.0099 15.9199L35.7672 17.6759L20.4983 32.9422Z",fill:"#02A388"}),a().createElement("path",{d:"M46.9999 23.9999C46.9999 36.7024 36.7024 46.9999 23.9999 46.9999C11.2974 46.9999 0.999902 36.7024 0.999902 23.9999C0.999902 11.2974 11.2974 0.999902 23.9999 0.999902C36.7024 0.999902 46.9999 11.2974 46.9999 23.9999Z",stroke:"#02A388",strokeWidth:"1.2"})),a().createElement("defs",null,a().createElement("clipPath",{id:"clip0_839_18929"},a().createElement("rect",{width:"48",height:"48",fill:"white"}))))},xt="styles-module__confirmationContainer___oEHho",It=function(t){var e=t.text,n=t.setShowConfirmation;return(0,o.useEffect)((function(){var t=setTimeout((function(){n(!1)}),3e3);return function(){return clearTimeout(t)}}),[]),a().createElement("div",{className:xt,"data-testid":"confirmation"},a().createElement(Mt,null),a().createElement("p",null,e),a().createElement(mt,{handleClose:function(){n(!1)}}))},kt="styles-module__container___Kgwkb",Ot="styles-module__textContainer___AcuBw",jt="styles-module__heading___lDDCW",zt="styles-module__body___zClqM",At="styles-module__submitButton___dzpYs",Dt="styles-module__modalEnter___gF_FG",Tt="styles-module__confirmationEnter___Scj2t",Rt="styles-module__modalEnterActive___U94I6",Nt="styles-module__confirmationEnterActive___cBbS8",Pt="styles-module__modalExit___kMI8e",Ht="styles-module__confirmationExit___g2k7N",Lt="styles-module__modalExitActive___uVCb2",Vt="styles-module__confirmationExitActive___hq72R",Bt=function(){return Bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Bt.apply(this,arguments)},qt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},Zt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},Ut=["very-poor","poor","fair"],Kt={nothingHappened:!1,elementNotRemoved:!1,elementErased:!1,itTookTooLong:!1},Ft=function(t){var e=t.showFeedbackModal,n=t.toggleModal,r=t.text,i=t.setShowFeedbackBanner,u=(0,o.useState)(null),s=u[0],c=u[1],l=(0,o.useState)(!1),f=l[0],_=l[1],h=(0,o.useState)(""),p=h[0],v=h[1],m=(0,o.useState)(!1),y=m[0],g=m[1],b=(0,o.useState)(null),w=b[0],C=b[1],E=(0,o.useState)(null),S=E[0],M=E[1],x=r.additionalComments,I=r.canBeEmailed,k=r.helpImprovethisFeature,O=r.iconText,j=r.pleaseRateBackgroundRemoval,z=r.privacyPolicy,A=r.ratingDetailText,D=r.submit,T=r.thanks,R=(0,o.useRef)(null),N=function(t){v(t.target.value)};return(0,o.useEffect)((function(){e&&((0,d.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Shown",adp_selection:"ADP_remove_background_feedback",ui_element_location:"adp_modal"}}),R.current.scrollIntoView({behavior:"smooth"}))}),[e]),a().createElement(a().Fragment,null,a().createElement(et.CSSTransition,{in:y,unmountOnExit:!0,timeout:300,classNames:{enter:Tt,enterActive:Nt,exit:Ht,exitActive:Vt}},a().createElement(It,{text:T,setShowConfirmation:g})),a().createElement(et.CSSTransition,{in:e,unmountOnExit:!0,timeout:300,classNames:{enter:Dt,enterActive:Rt,exit:Pt,exitActive:Lt}},a().createElement("div",{role:"dialog",className:kt,"data-testid":"background-removal-feedback-modal",ref:R},a().createElement("div",{className:Ot},a().createElement("p",{className:jt},k),a().createElement("p",{className:zt},j)),a().createElement(mt,{handleClose:function(){n(),(0,d.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Dismiss",adp_selection:"ADP_remove_background_feedback",ui_element_location:"adp_modal"}})}}),a().createElement("form",{onSubmit:function(t){return qt(void 0,void 0,void 0,(function(){var e;return Zt(this,(function(r){switch(r.label){case 0:t.preventDefault(),e={canContact:f,comments:p,rating:w,reasons:S},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,nt(e)];case 2:return r.sent(),[3,4];case 3:return r.sent(),[3,4];case 4:return i(!1),n(),g(!y),(0,d.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:"ADP_Modal_Remove_Background_Feedback_Submit",ui_element_location:"adp_modal"}}),[2]}}))}))}},a().createElement(pt,{activeIcon:s,handleRating:function(t){var e=Ut.includes(t.target.id),n=!e&&S;e&&!S&&M(Kt),n&&M(null),c(t.target.id),C(t.target.value),function(t){var e={1:"ADP_modal_remove_background_feedback_very_poor_1",2:"ADP_modal_remove_background_feedback_poor_2",3:"ADP_modal_remove_background_feedback_fair_3",4:"ADP_modal_remove_background_feedback_good_4",5:"ADP_modal_remove_background_feedback_great_5"}[t]||"ADP_modal_remove_background_feedback_error";(0,d.j)({name:"adpInteraction",payload:{adp_interaction:"ADP_Modal_Click",adp_selection:e,ui_element_location:"adp_modal"}})}(t.target.value)},iconText:O}),S?a().createElement(bt,{comments:p,handleComment:N,handleReasonSelection:function(t){var e,n=t.target.id,r=t.target.checked;M(Bt(Bt({},S),((e={})[n]=r,e)))},text:A}):a().createElement(Ct,{comments:p,handleComment:N,text:x}),a().createElement(St,{handleCheckbox:function(){_(!f)},canBeEmailedText:I,privacyPolicyText:z}),a().createElement("input",{type:"submit","data-testid":"submit-button",className:At,value:D})))))},Wt=function(){return(0,o.useContext)(A)},Qt="styles-module__button____qElh",Jt=function(t){var e=t.Icon,n=t.text,r=t.handleClick,i=t.asset,o=Wt().openModal,u=i.largeMainImageURL;return a().createElement(a().Fragment,null,a().createElement("link",{rel:"prefetch",href:u,as:"image","data-testid":"prefetch-image"}),a().createElement("button",{className:Qt,"data-testid":"modify-asset-button",onClick:function(){r(),o()}},e&&a().createElement(e,null),n))},Gt=n(66684),Yt=n(94184),$t=n.n(Yt),Xt=n(18951),te=function(t){var e=t.className;return a().createElement("svg",{className:e,viewBox:"0 0 101 43",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"iStock-logo"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.55196 26.191H0.741194V8.29849H5.55196V26.191ZM10.1701 19.2921C11.6524 20.9137 13.9095 22.1326 16.2784 22.1326C18.4999 22.1326 20.0553 20.7661 20.0553 18.8855C20.0553 15.567 15.2437 15.1608 11.7631 13.1331C9.72738 11.9512 8.09587 10.181 8.09587 7.26465C8.09587 2.6549 12.3569 0 16.6499 0C19.2775 0 21.7214 0.627589 24.1663 2.43484L21.5751 6.1225C20.5356 5.16359 18.7964 4.42808 17.0926 4.42808C15.2071 4.42808 13.0953 5.23694 13.0953 7.22871C13.0953 11.3983 25.0547 10.1051 25.0547 18.8131C25.0547 23.385 20.9428 26.5573 16.2784 26.5573C12.7988 26.5573 9.57816 25.1217 6.91193 22.684L10.1701 19.2921ZM40.0047 26.191C39.3761 26.4106 37.9295 26.5573 37.0055 26.5573C34.1169 26.5573 32.0089 25.5984 30.7846 23.9757C29.8597 22.7588 29.4515 21.1746 29.4515 18.627V12.3564H24.4541V8.29849H29.4515V3.31853H34.2651V8.29849H40.1895V12.3564H34.2651V19.1785C34.2651 20.2894 34.449 20.9502 34.8581 21.4316C35.3364 21.9858 36.1142 22.3158 37.299 22.3158C38.0036 22.3158 38.9315 22.2083 39.2645 22.1326L40.0047 26.191ZM50.6781 7.92975C56.1184 7.92975 60.2294 12.0989 60.2294 17.2634C60.2294 22.427 56.1184 26.5573 50.6781 26.5573C45.237 26.5573 41.125 22.427 41.125 17.2634C41.125 12.0989 45.237 7.92975 50.6781 7.92975ZM50.6781 22.1326C53.4916 22.1326 55.4148 19.9558 55.4148 17.2634C55.4148 14.5697 53.4916 12.3564 50.6781 12.3564C47.8628 12.3564 45.9396 14.5697 45.9396 17.2634C45.9396 19.9558 47.8628 22.1326 50.6781 22.1326ZM79.2355 22.5382C77.1227 25.3423 74.4556 26.5573 71.0886 26.5573C65.5358 26.5573 61.4614 22.427 61.4614 17.2634C61.4614 12.0624 65.6455 7.92975 71.1261 7.92975C74.2361 7.92975 77.012 9.37013 78.6781 11.5076L75.2718 14.4953C74.3112 13.2419 72.8683 12.3564 71.1261 12.3564C68.3492 12.3564 66.2759 14.5347 66.2759 17.2634C66.2759 20.0669 68.3136 22.1326 71.2388 22.1326C73.1994 22.1326 74.7539 20.9502 75.5317 19.7716L79.2355 22.5382ZM90.0601 16.3404L99.9471 26.191H93.4664L85.875 18.4415V26.191H81.0642V0.368736H85.875V14.0921L92.0574 8.29849H98.8364L90.0601 16.3404ZM0 3.13539C0 1.40297 1.41014 0 3.14751 0C4.88587 0 6.29404 1.40297 6.29404 3.13539C6.29404 4.86487 4.88587 6.27068 3.14751 6.27068C1.41014 6.27068 0 4.86487 0 3.13539Z",fill:"white"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.911077 39.1897H1.8804V32.492H0.897461V31.4613H3.00452V34.4467C3.66629 33.7443 4.43225 33.4107 5.3774 33.4107C7.3855 33.4107 8.82142 34.9385 8.82142 36.8933C8.82142 38.8682 7.3556 40.3867 5.33931 40.3867C4.43225 40.3867 3.72579 40.0678 3.02495 39.3572V40.2407H0.911077V39.1897ZM5.3177 34.4941C4.0729 34.4941 3.00452 35.5194 3.00452 36.9298C3.00452 38.2522 4.0729 39.2991 5.30142 39.2991C6.55422 39.2991 7.61993 38.3009 7.61993 36.8689C7.61993 35.483 6.55422 34.4941 5.3177 34.4941ZM10.2789 41.3403H11.3216L11.8436 40.0409L9.68496 34.6184H8.80504V33.57H11.7785V34.6184H10.8606L12.4226 38.5791L13.9954 34.6184H13.0815V33.57H16.0428V34.6184H15.175L12.4971 41.3403H13.4246V42.386H10.2789V41.3403ZM23.0176 35.8422H28.3706V40.2407H27.4188V38.8548C26.4507 39.9057 25.3456 40.4136 24.0141 40.4136C21.3728 40.4136 19.499 38.3576 19.499 35.7909C19.499 33.4188 21.4108 31.2844 24.1293 31.2844C25.145 31.2844 25.9544 31.5667 26.8114 32.2003V31.4613H27.7754V33.816H26.6853C25.9274 32.9406 25.1015 32.5163 24.0602 32.5163C22.1769 32.5163 20.7871 34.0388 20.7871 35.83C20.7871 37.755 22.2258 39.2006 24.044 39.2006C25.4121 39.2006 26.6392 38.3009 27.0472 36.9012H23.0176V35.8422ZM36.1752 38.128C35.6057 39.5842 34.3772 40.3974 32.9048 40.3974C30.9454 40.3974 29.4093 38.8548 29.4093 36.9134C29.4093 34.9304 31.0323 33.3917 32.8682 33.3917C34.8248 33.3917 36.3867 34.9128 36.3867 36.9636C36.3867 37.0634 36.3867 37.1878 36.3637 37.3471H30.635C30.8208 38.5346 31.7685 39.3126 32.8898 39.3126C33.736 39.3126 34.4518 38.9048 34.8613 38.128H36.1752ZM35.1488 36.3989C34.8478 35.1627 34.0044 34.4589 32.9048 34.4589C31.7901 34.4589 30.8547 35.2127 30.635 36.3989H35.1488ZM37.7738 34.6021H36.7419V33.57H37.7738V31.4613H38.8991V33.57H39.8903V34.6021H38.8991V39.1897H39.8903V40.2407H37.7738V34.6021ZM41.5255 34.6021H40.4992V33.57H41.5255V31.4613H42.655V33.57H43.6408V34.6021H42.655V39.1897H43.6408V40.2407H41.5255V34.6021ZM45.783 41.3403H46.8257L47.3491 40.0409L45.1878 34.6184H44.3106V33.57H47.284V34.6184H46.3647L47.9254 38.5791L49.5063 34.6184H48.5857V33.57H51.5538V34.6184H50.682L48 41.3403H48.9356V42.386H45.783V41.3403ZM54.9449 39.1777H55.9239V32.5163H54.9449V31.4613H58.1557V32.5163H57.1482V39.1777H58.1557V40.2407H54.9449V39.1777ZM59.0952 39.1897H60.0485V34.6021H59.1048V33.57H61.163V34.5184C61.5752 33.7998 62.1554 33.4606 62.9867 33.4606C63.9657 33.4606 64.6802 33.9268 65.0882 34.7886C65.6089 33.8781 66.2462 33.4485 67.1492 33.4485C68.7995 33.4485 69.5546 34.644 69.5546 36.2961V39.1897H70.5213V40.2407H67.4693V39.1897H68.4252V36.234C68.4252 35.11 67.9045 34.5076 66.9785 34.5076C65.9113 34.5076 65.3405 35.2965 65.3405 36.8689V39.1897H66.3113V40.2407H63.2823V39.1897H64.2477V36.9769C64.2477 35.4114 64.0741 34.5076 62.7616 34.5076C61.746 34.5076 61.163 35.2965 61.163 36.8689V39.1897H62.1324V40.2407H59.0952V39.1897ZM76.6649 39.3572C75.9599 40.0678 75.2494 40.3867 74.3572 40.3867C72.3261 40.3867 70.8752 38.8682 70.8752 36.8933C70.8752 34.9385 72.2746 33.4188 74.3111 33.4188C75.2643 33.4188 76.0278 33.7295 76.6934 34.4467V33.57H78.7584V34.6021H77.808V39.1777H78.7694V40.2407H76.6649V39.3572ZM74.3734 34.4941C73.1342 34.4941 72.0657 35.483 72.0657 36.8689C72.0657 38.3009 73.1342 39.2991 74.3802 39.2991C75.606 39.2991 76.6745 38.2604 76.6745 36.9298C76.6745 35.5194 75.606 34.4941 74.3734 34.4941ZM81.0214 40.6325C81.2587 41.3403 81.8892 41.7186 82.8329 41.7186C84.0261 41.7186 85.0282 40.8649 85.0769 39.6342L85.0877 39.2991C84.4193 40.0409 83.6858 40.3731 82.7611 40.3731C80.7775 40.3731 79.3157 38.879 79.3157 36.8933C79.3157 34.9776 80.7286 33.4107 82.7231 33.4107C83.6858 33.4107 84.4572 33.7551 85.1027 34.5076V33.57H87.1718V34.6184H86.2187V39.1437C86.2187 41.4349 84.8899 42.6966 82.8329 42.6966C81.2072 42.6966 80.1456 42.005 79.713 40.6325H81.0214ZM85.1027 36.9406C85.1027 35.5343 84.0478 34.4941 82.8072 34.4941C81.572 34.4941 80.505 35.4937 80.505 36.8797C80.505 38.3251 81.5815 39.3126 82.8072 39.3126C84.0356 39.3126 85.1027 38.2604 85.1027 36.9406ZM94.3595 38.128C93.7885 39.5842 92.5642 40.3974 91.0864 40.3974C89.1284 40.3974 87.5867 38.8548 87.5867 36.9134C87.5867 34.9304 89.2151 33.3917 91.051 33.3917C93.0089 33.3917 94.5723 34.9128 94.5723 36.9636C94.5723 37.0634 94.5723 37.1878 94.5478 37.3471H88.8151C89.0063 38.5346 89.9486 39.3126 91.0741 39.3126C91.9201 39.3126 92.6361 38.9048 93.0428 38.128H94.3595ZM93.3304 36.3989C93.0348 35.1627 92.1901 34.4589 91.0864 34.4589C89.9717 34.4589 89.0402 35.2127 88.8151 36.3989H93.3304ZM95.2611 38.1388H96.3797C96.3797 38.7818 96.9355 39.4275 97.7668 39.4275C98.4705 39.4275 98.8853 39.0519 98.8853 38.4076C98.8853 37.6957 98.3484 37.4336 97.1716 37.1971C95.6734 36.8933 95.3505 36.1151 95.3505 35.3073C95.3505 34.1969 96.1397 33.3823 97.4061 33.3823C97.9553 33.3823 98.3851 33.57 98.7458 33.9618V33.5566H99.6746V35.3343H98.6427C98.4867 34.6806 98.1139 34.386 97.4807 34.386C96.8624 34.386 96.5139 34.6913 96.5139 35.2127C96.5139 35.9516 97.1201 36.0908 98.1627 36.3569C99.4643 36.7068 100.069 37.2498 100.069 38.3361C100.069 39.5842 99.1986 40.4136 97.8143 40.4136C97.181 40.4136 96.7011 40.2152 96.278 39.7543V40.2489H95.2611V38.1388Z",fill:"white"}))},ee="Header-module__header___hQMaw",ne="Header-module__logo___QPlRU",re="Header-module__aiStudio___swSXd",ie=function(){var t=(0,Xt.T)();return a().createElement("div",{className:ee},a().createElement(te,{className:ne}),a().createElement("span",{className:re},t("ai_studio")))},oe="Footer-module__footer___rKxkJ",ae="Footer-module__closeButton___w990n",ue=function(){var t=(0,Xt.T)(),e=Wt().closeModal;return a().createElement("div",{className:oe},a().createElement("button",{className:ae,onClick:e},t("discard_changes_and_close")),a().createElement(Gt.zx,{variant:Gt.hZ.SECONDARY,size:Gt.tS.LARGE,onClick:function(){}},t("proceed_to_download")))},se="Image-module__imageWrapper___GTjcG",ce="Image-module__image___MZcnw",le=function(t){var e=t.asset,n=t.visualId,r=t.backgroundRemoved,i=e.largeMainImageURL,o=e.ratio,u=r?"/components/asset-mod/api/modifications/remove_bg/".concat(n,"/watermarked/image.png"):i;return a().createElement("div",{className:se,style:{aspectRatio:o},"data-testid":"image-wrapper"},a().createElement(Gt.Ee,{src:u,alt:"Modified image",className:ce}))},fe="RemoveBackgroundToggle-module__toggle___GkccW",_e="RemoveBackgroundToggle-module__active___HPB6q",de="RemoveBackgroundToggle-module__switch___b3z0K",he=function(t){var e=t.backgroundRemoved,n=t.setBackgroundRemoved;return a().createElement("button",{className:$t()(fe,e&&_e),onClick:function(){return n(!e)},"data-testid":"remove-background-toggle"},a().createElement("span",{className:de}))},pe="RemoveBackgroundTools-module__title___la0F1",ve="RemoveBackgroundTools-module__toggleContainer___rKdb9",me=function(t){var e=t.backgroundRemoved,n=t.setBackgroundRemoved,r=(0,Xt.T)();return a().createElement(a().Fragment,null,a().createElement("p",{className:pe},r("make_background_transparent")),a().createElement("div",{className:ve},a().createElement(he,{backgroundRemoved:e,setBackgroundRemoved:n}),a().createElement("span",null,r("remove_background"))))},ye=n(3382),ge="ModificationOption-module__modificationOption___NQ6Mu",be="ModificationOption-module__active___xKZLJ",we="ModificationOption-module__icon___hxLvU",Ce="ModificationOption-module__tooltip___issKd",Ee=function(t){var e=t.activeModificationType,n=t.setActiveModificationType,r=t.disabled,i=t.value,o=t.Icon,u=t.label,s=t.notAvailableText,c=(0,Xt.T)(),l=i===e;return a().createElement("button",{className:$t()(ge,l&&be),onClick:function(){return n(i)},disabled:r},a().createElement(o,{className:we}),c(u),r&&a().createElement(ye.u,{className:Ce,placement:"top"},c(s)))};!function(t){t.RemoveBackground="RemoveBackground",t.RemoveObjects="RemoveObjects"}(E||(E={}));var Se=function(t){var e=t.className;return a().createElement("svg",{className:e,viewBox:"0 0 22 19",xmlns:"http://www.w3.org/2000/svg","data-testid":"scissors"},a().createElement("path",{d:"M6.82464 18.2126C8.57514 17.2071 9.2387 15.0892 8.48035 13.2856H8.48667C8.00007 12.2236 8.93536 11.5449 10.1361 11.9659C13.2958 13.8072 17.3719 16.1764 17.3783 16.1702C18.7749 16.698 20.3863 16.1702 21.1573 14.8441L12.449 9.84807L21.1573 4.84571C20.3863 3.51342 18.7685 2.98553 17.3783 3.5197C17.3783 3.51342 13.2958 5.88263 10.1361 7.72395C8.93536 8.145 8.00007 7.46629 8.48667 6.39795H8.47403C9.23238 4.60062 8.56251 2.4765 6.81832 1.471C4.92878 0.3838 2.50208 1.03109 1.4088 2.9164C0.315519 4.80172 0.960111 7.20863 2.86229 8.30211C3.44369 8.63519 4.07564 8.78601 4.70127 8.81115C6.35067 8.84257 6.50234 9.84179 6.50234 9.84179C6.50234 9.84179 6.35067 10.8599 4.66968 10.8724C4.05036 10.8976 3.43105 11.0484 2.86229 11.3815C0.966431 12.4687 0.315519 14.8819 1.4088 16.7672C2.50208 18.6525 4.92878 19.2998 6.82464 18.2126ZM3.8355 6.6179C2.87493 6.06488 2.54631 4.84571 3.09611 3.89048C3.65223 2.93526 4.88454 2.60847 5.84511 3.15521C6.80568 3.70823 7.13429 4.93369 6.57817 5.88891C6.02205 6.84414 4.79607 7.17093 3.8355 6.6179ZM8.30972 9.84179C8.30972 9.38303 8.68258 9.01225 9.1439 9.01225C9.60523 9.01225 9.97808 9.38303 9.97808 9.84179C9.97808 10.3005 9.60523 10.6713 9.1439 10.6713C8.68258 10.6713 8.30972 10.3005 8.30972 9.84179ZM3.10243 15.7994C2.54631 14.8441 2.88125 13.625 3.84182 13.0657C4.8087 12.5126 6.03469 12.8394 6.59081 13.8009C7.14693 14.7562 6.81832 15.9816 5.85775 16.5346C4.89718 17.0814 3.66487 16.7546 3.10875 15.7994H3.10243Z"}))},Me=function(t){var e=t.activeModificationType,n=t.setActiveModificationType,r=t.disabled;return a().createElement(Ee,{activeModificationType:e,setActiveModificationType:n,disabled:r,value:E.RemoveBackground,Icon:Se,label:"remove_background",notAvailableText:"background_removal_not_available"})},xe=function(t){var e=t.className;return a().createElement("svg",{className:e,viewBox:"0 0 20 18",xmlns:"http://www.w3.org/2000/svg","data-testid":"eraser"},a().createElement("path",{d:"M20.0002 6.68341C19.9942 6.26876 19.821 5.88002 19.5105 5.58919L14.0133 0.44057C13.7087 0.155495 13.3116 0 12.8876 0C12.4636 0 12.0366 0.167013 11.729 0.472244L0.457013 11.6679C0.15543 11.9674 -0.00581182 12.359 0.000160116 12.7765C0.00613205 13.1912 0.179318 13.5799 0.489859 13.8707L4.68215 17.7956C4.82249 17.928 5.0136 18.0029 5.20768 18.0029H16.1094C16.5275 18.0029 16.8649 17.6775 16.8649 17.2744C16.8649 16.8712 16.5275 16.5458 16.1094 16.5458H10.7317L19.5463 7.79203C19.8449 7.49256 20.0091 7.10094 20.0031 6.68629L20.0002 6.68341ZM5.52718 16.543H5.51524L1.5439 12.8226C1.523 12.8053 1.51405 12.7823 1.51405 12.7535C1.51405 12.7362 1.52002 12.7074 1.5439 12.6844L5.70037 8.55799L11.3438 13.8419L8.62662 16.543H5.53315H5.52718Z"}))},Ie=function(t){var e=t.activeModificationType,n=t.setActiveModificationType,r=t.disabled;return a().createElement(Ee,{activeModificationType:e,setActiveModificationType:n,disabled:r,value:E.RemoveObjects,Icon:xe,label:"remove_objects",notAvailableText:"object_removal_not_available"})},ke="ModificationSelector-module__modificationSelector___xz4BV",Oe=function(t){var e=t.activeModificationType,n=t.setActiveModificationType,r=t.canRemoveBackground,i=t.canRemoveObjects;return a().createElement("div",{className:ke,"data-testid":"modification-selector"},a().createElement(Me,{activeModificationType:e,setActiveModificationType:n,disabled:!r}),a().createElement(Ie,{activeModificationType:e,setActiveModificationType:n,disabled:!i}))},je=function(){return a().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"checkmark"},a().createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#02A388"}),a().createElement("path",{d:"M5 10.5L6.37512 9.3332L9.12488 11.6668L14.6249 7L16 8.1668L9.12488 14L5 10.5Z",fill:"white"}))},ze="ObjectSelector-module__objectSelector___fxf_l",Ae="ObjectSelector-module__selected___Qj0HP",De=function(t){var e,n=t.object,r=t.position,i=b().toggleObjectSelected,o="".concat((e=n.modifications,e.charAt(0).toLocaleUpperCase()+e.slice(1))).concat(r?" ".concat(r):"");return a().createElement("li",{className:$t()(ze,n.selected&&Ae),onClick:function(){return i(n)}},n.selected&&a().createElement(je,null),o)},Te="ObjectList-module__objectListWrapper___hgG9S",Re="ObjectList-module__objectList___OTpjD",Ne=function(){var t=b().objects;return a().createElement("div",{className:Te},a().createElement("ol",{className:Re},function(t,e){var n=new Map;return t.map((function(r,i){var o,a,u=null!==(o=n.get(r.modifications))&&void 0!==o?o:0;n.set(r.modifications,++u);var s=u>1||r.modifications===(null===(a=t[i+1])||void 0===a?void 0:a.modifications);return e(r,u,s)}))}(t,(function(t,e,n){return a().createElement(De,{object:t,position:n?e:null,key:t.id})}))))},Pe="RemoveObjectsTools-module__title___bh4NZ",He=function(){var t=(0,Xt.T)();return a().createElement(a().Fragment,null,a().createElement("p",{className:Pe},t("select_objects_remove_or_restore")),a().createElement(Ne,null))},Le="ModificationsEditor-module__editor___Qicfx",Ve="ModificationsEditor-module__editingArea___mDaB2",Be=function(t){var e=t.asset,n=t.visualId,r=t.availableModifications,i=t.initialModificationType,u=r.background.length>0,s=r.objects.length>0,c=(0,o.useState)(i),l=c[0],f=c[1],_=(0,o.useState)(!1),d=_[0],h=_[1];return a().createElement("div",{className:Le},a().createElement(Oe,{activeModificationType:l,setActiveModificationType:f,canRemoveBackground:u,canRemoveObjects:s}),a().createElement("div",{className:Ve},a().createElement(g,{objects:r.objects},a().createElement(le,{asset:e,visualId:n,backgroundRemoved:d}),l===E.RemoveObjects&&a().createElement(He,null)),l===E.RemoveBackground&&a().createElement(me,{backgroundRemoved:d,setBackgroundRemoved:h})))},qe="ModificationsModal-module__modal___bz8OF",Ze="ModificationsModal-module__root___pYPlE",Ue="ModificationsModal-module__closing___iLKKo",Ke="ModificationsModal-module__overflowContainer___zZwlT",Fe=function(t){var e=t.asset,n=t.visualId,r=t.availableModifications,i=t.initialModificationType,o=Wt(),u=o.showModal,s=o.closeModal,c=o.modalIsClosing;return a().createElement(Gt.u_,{open:u,onClose:s,modalLabelledById:"modifications-modal",rootProps:{className:Ze},className:$t()(qe,c&&Ue)},a().createElement("div",{className:Ke},a().createElement(ie,null),a().createElement(Be,{asset:e,visualId:n,availableModifications:r,initialModificationType:i})),a().createElement(ue,null))},We=function(t){var e=document.createElement("canvas");return e.width=t.naturalWidth,e.height=t.naturalHeight,e.getContext("2d").drawImage(t,0,0),e.toDataURL()}},8679:function(t,e,n){"use strict";var r=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(t){return r.isMemo(t)?a:u[t.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(h){var i=d(n);i&&i!==h&&t(e,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(e),p=s(n),v=0;v<a.length;++v){var m=a[v];if(!(o[m]||r&&r[m]||p&&p[m]||u&&u[m])){var y=_(n,m);try{c(e,m,y)}catch(t){}}}}return e}},43393:function(t){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:W(t)}function r(t){return u(t)?t:Q(t)}function i(t){return s(t)?t:J(t)}function o(t){return a(t)&&!c(t)?t:G(t)}function a(t){return!(!t||!t[f])}function u(t){return!(!t||!t[_])}function s(t){return!(!t||!t[d])}function c(t){return u(t)||s(t)}function l(t){return!(!t||!t[h])}e(r,n),e(i,n),e(o,n),n.isIterable=a,n.isKeyed=u,n.isIndexed=s,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",_="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",p="delete",v=5,m=1<<v,y=m-1,g={},b={value:!1},w={value:!1};function C(t){return t.value=!1,t}function E(t){t&&(t.value=!0)}function S(){}function M(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function x(t){return void 0===t.size&&(t.size=t.__iterate(k)),t.size}function I(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?x(t)+e:e}function k(){return!0}function O(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function j(t,e){return A(t,e,0)}function z(t,e){return A(t,e,e)}function A(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var D=0,T=1,R=2,N="function"==typeof Symbol&&Symbol.iterator,P="@@iterator",H=N||P;function L(t){this.next=t}function V(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function B(){return{value:void 0,done:!0}}function q(t){return!!K(t)}function Z(t){return t&&"function"==typeof t.next}function U(t){var e=K(t);return e&&e.call(t)}function K(t){var e=t&&(N&&t[N]||t[P]);if("function"==typeof e)return e}function F(t){return t&&"number"==typeof t.length}function W(t){return null==t?at():a(t)?t.toSeq():ct(t)}function Q(t){return null==t?at().toKeyedSeq():a(t)?u(t)?t.toSeq():t.fromEntrySeq():ut(t)}function J(t){return null==t?at():a(t)?u(t)?t.entrySeq():t.toIndexedSeq():st(t)}function G(t){return(null==t?at():a(t)?u(t)?t.entrySeq():t:st(t)).toSetSeq()}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=D,L.VALUES=T,L.ENTRIES=R,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[H]=function(){return this},e(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(t,e){return ft(this,t,e,!0)},W.prototype.__iterator=function(t,e){return _t(this,t,e,!0)},e(Q,W),Q.prototype.toKeyedSeq=function(){return this},e(J,W),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(t,e){return ft(this,t,e,!1)},J.prototype.__iterator=function(t,e){return _t(this,t,e,!1)},e(G,W),G.of=function(){return G(arguments)},G.prototype.toSetSeq=function(){return this},W.isSeq=ot,W.Keyed=Q,W.Set=G,W.Indexed=J;var Y,$,X,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function nt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function it(t){this._iterator=t,this._iteratorCache=[]}function ot(t){return!(!t||!t[tt])}function at(){return Y||(Y=new et([]))}function ut(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():Z(t)?new it(t).fromEntrySeq():q(t)?new rt(t).fromEntrySeq():"object"==typeof t?new nt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function st(t){var e=lt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ct(t){var e=lt(t)||"object"==typeof t&&new nt(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function lt(t){return F(t)?new et(t):Z(t)?new it(t):q(t)?new rt(t):void 0}function ft(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var u=i[n?o-a:a];if(!1===e(u[1],r?u[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function _t(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new L((function(){var t=i[n?o-a:a];return a++>o?B():V(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function dt(t,e){return e?ht(e,t,"",{"":t}):pt(t)}function ht(t,e,n,r){return Array.isArray(e)?t.call(r,n,J(e).map((function(n,r){return ht(t,n,r,e)}))):vt(e)?t.call(r,n,Q(e).map((function(n,r){return ht(t,n,r,e)}))):e}function pt(t){return Array.isArray(t)?J(t).map(pt).toList():vt(t)?Q(t).map(pt).toMap():t}function vt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function mt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function yt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||s(t)!==s(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!c(t);if(l(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&mt(i[1],t)&&(n||mt(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,_=e.__iterate((function(e,r){if(n?!t.has(e):i?!mt(e,t.get(r,g)):!mt(t.get(r,g),e))return f=!1,!1}));return f&&t.size===_}function gt(t,e){if(!(this instanceof gt))return new gt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if($)return $;$=this}}function bt(t,e){if(!t)throw new Error(e)}function wt(t,e,n){if(!(this instanceof wt))return new wt(t,e,n);if(bt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(X)return X;X=this}}function Ct(){throw TypeError("Abstract")}function Et(){}function St(){}function Mt(){}W.prototype[tt]=!0,e(et,J),et.prototype.get=function(t,e){return this.has(t)?this._array[I(this,t)]:e},et.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},et.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new L((function(){return i>r?B():V(t,i,n[e?r-i++:i++])}))},e(nt,Q),nt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},nt.prototype.has=function(t){return this._object.hasOwnProperty(t)},nt.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},nt.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new L((function(){var a=r[e?i-o:o];return o++>i?B():V(t,a,n[a])}))},nt.prototype[h]=!0,e(rt,J),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=U(this._iterable),r=0;if(Z(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=U(this._iterable);if(!Z(n))return new L(B);var r=0;return new L((function(){var e=n.next();return e.done?e:V(t,r++,e.value)}))},e(it,J),it.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},it.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new L((function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return V(t,i,r[i++])}))},e(gt,J),gt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},gt.prototype.get=function(t,e){return this.has(t)?this._value:e},gt.prototype.includes=function(t){return mt(this._value,t)},gt.prototype.slice=function(t,e){var n=this.size;return O(t,e,n)?this:new gt(this._value,z(e,n)-j(t,n))},gt.prototype.reverse=function(){return this},gt.prototype.indexOf=function(t){return mt(this._value,t)?0:-1},gt.prototype.lastIndexOf=function(t){return mt(this._value,t)?this.size:-1},gt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},gt.prototype.__iterator=function(t,e){var n=this,r=0;return new L((function(){return r<n.size?V(t,r++,n._value):B()}))},gt.prototype.equals=function(t){return t instanceof gt?mt(this._value,t._value):yt(t)},e(wt,J),wt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},wt.prototype.get=function(t,e){return this.has(t)?this._start+I(this,t)*this._step:e},wt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},wt.prototype.slice=function(t,e){return O(t,e,this.size)?this:(t=j(t,this.size),(e=z(e,this.size))<=t?new wt(0,0):new wt(this.get(t,this._end),this.get(e,this._end),this._step))},wt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},wt.prototype.lastIndexOf=function(t){return this.indexOf(t)},wt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},wt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new L((function(){var a=i;return i+=e?-r:r,o>n?B():V(t,o++,a)}))},wt.prototype.equals=function(t){return t instanceof wt?this._start===t._start&&this._end===t._end&&this._step===t._step:yt(this,t)},e(Ct,n),e(Et,Ct),e(St,Ct),e(Mt,Ct),Ct.Keyed=Et,Ct.Indexed=St,Ct.Set=Mt;var xt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function It(t){return t>>>1&1073741824|3221225471&t}function kt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return It(n)}if("string"===e)return t.length>Lt?Ot(t):jt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return zt(t);if("function"==typeof t.toString)return jt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Ot(t){var e=qt[t];return void 0===e&&(e=jt(t),Bt===Vt&&(Bt=0,qt={}),Bt++,qt[t]=e),e}function jt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return It(e)}function zt(t){var e;if(Nt&&void 0!==(e=Rt.get(t)))return e;if(void 0!==(e=t[Ht]))return e;if(!Dt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ht]))return e;if(void 0!==(e=Tt(t)))return e}if(e=++Pt,1073741824&Pt&&(Pt=0),Nt)Rt.set(t,e);else{if(void 0!==At&&!1===At(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Dt)Object.defineProperty(t,Ht,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ht]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ht]=e}}return e}var At=Object.isExtensible,Dt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function Tt(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var Rt,Nt="function"==typeof WeakMap;Nt&&(Rt=new WeakMap);var Pt=0,Ht="__immutablehash__";"function"==typeof Symbol&&(Ht=Symbol(Ht));var Lt=16,Vt=255,Bt=0,qt={};function Zt(t){bt(t!==1/0,"Cannot perform this action with an infinite size.")}function Ut(t){return null==t?ie():Kt(t)&&!l(t)?t:ie().withMutations((function(e){var n=r(t);Zt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Kt(t){return!(!t||!t[Wt])}e(Ut,Et),Ut.of=function(){var e=t.call(arguments,0);return ie().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},Ut.prototype.toString=function(){return this.__toString("Map {","}")},Ut.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Ut.prototype.set=function(t,e){return oe(this,t,e)},Ut.prototype.setIn=function(t,e){return this.updateIn(t,g,(function(){return e}))},Ut.prototype.remove=function(t){return oe(this,t,g)},Ut.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return g}))},Ut.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Ut.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=ve(this,Cn(t),e,n);return r===g?void 0:r},Ut.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ie()},Ut.prototype.merge=function(){return _e(this,void 0,arguments)},Ut.prototype.mergeWith=function(e){return _e(this,e,t.call(arguments,1))},Ut.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},Ut.prototype.mergeDeep=function(){return _e(this,de,arguments)},Ut.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return _e(this,he(e),n)},Ut.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},Ut.prototype.sort=function(t){return qe(fn(this,t))},Ut.prototype.sortBy=function(t,e){return qe(fn(this,e,t))},Ut.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Ut.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},Ut.prototype.asImmutable=function(){return this.__ensureOwner()},Ut.prototype.wasAltered=function(){return this.__altered},Ut.prototype.__iterator=function(t,e){return new te(this,t,e)},Ut.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},Ut.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?re(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ut.isMap=Kt;var Ft,Wt="@@__IMMUTABLE_MAP__@@",Qt=Ut.prototype;function Jt(t,e){this.ownerID=t,this.entries=e}function Gt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Yt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function $t(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Xt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function te(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&ne(t._root)}function ee(t,e){return V(t,e[0],e[1])}function ne(t,e){return{node:t,index:0,__prev:e}}function re(t,e,n,r){var i=Object.create(Qt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function ie(){return Ft||(Ft=re(0))}function oe(t,e,n){var r,i;if(t._root){var o=C(b),a=C(w);if(r=ae(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===g?-1:1:0)}else{if(n===g)return t;i=1,r=new Jt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?re(i,r):ie()}function ae(t,e,n,r,i,o,a,u){return t?t.update(e,n,r,i,o,a,u):o===g?t:(E(u),E(a),new Xt(e,r,[i,o]))}function ue(t){return t.constructor===Xt||t.constructor===$t}function se(t,e,n,r,i){if(t.keyHash===r)return new $t(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&y,u=(0===n?r:r>>>n)&y;return new Gt(e,1<<a|1<<u,a===u?[se(t,e,n+v,r,i)]:(o=new Xt(e,r,i),a<u?[t,o]:[o,t]))}function ce(t,e,n,r){t||(t=new S);for(var i=new Xt(t,kt(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function le(t,e,n,r){for(var i=0,o=0,a=new Array(n),u=0,s=1,c=e.length;u<c;u++,s<<=1){var l=e[u];void 0!==l&&u!==r&&(i|=s,a[o++]=l)}return new Gt(t,i,a)}function fe(t,e,n,r,i){for(var o=0,a=new Array(m),u=0;0!==n;u++,n>>>=1)a[u]=1&n?e[o++]:void 0;return a[r]=i,new Yt(t,o+1,a)}function _e(t,e,n){for(var i=[],o=0;o<n.length;o++){var u=n[o],s=r(u);a(u)||(s=s.map((function(t){return dt(t)}))),i.push(s)}return pe(t,e,i)}function de(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):mt(t,e)?t:e}function he(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return mt(e,i)?e:i}}function pe(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,g,(function(t){return t===g?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)})):t.constructor(n[0])}function ve(t,e,n,r){var i=t===g,o=e.next();if(o.done){var a=i?n:t,u=r(a);return u===a?t:u}bt(i||t&&t.set,"invalid keyPath");var s=o.value,c=i?g:t.get(s,g),l=ve(c,e,n,r);return l===c?t:l===g?t.remove(s):(i?ie():t).set(s,l)}function me(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ye(t,e,n,r){var i=r?t:M(t);return i[e]=n,i}function ge(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,u=0;u<i;u++)u===e?(o[u]=n,a=-1):o[u]=t[u+a];return o}function be(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}Qt[Wt]=!0,Qt[p]=Qt.remove,Qt.removeIn=Qt.deleteIn,Jt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(mt(n,i[o][0]))return i[o][1];return r},Jt.prototype.update=function(t,e,n,r,i,o,a){for(var u=i===g,s=this.entries,c=0,l=s.length;c<l&&!mt(r,s[c][0]);c++);var f=c<l;if(f?s[c][1]===i:u)return this;if(E(a),(u||!f)&&E(o),!u||1!==s.length){if(!f&&!u&&s.length>=we)return ce(t,s,r,i);var _=t&&t===this.ownerID,d=_?s:M(s);return f?u?c===l-1?d.pop():d[c]=d.pop():d[c]=[r,i]:d.push([r,i]),_?(this.entries=d,this):new Jt(t,d)}},Gt.prototype.get=function(t,e,n,r){void 0===e&&(e=kt(n));var i=1<<((0===t?e:e>>>t)&y),o=this.bitmap;return 0==(o&i)?r:this.nodes[me(o&i-1)].get(t+v,e,n,r)},Gt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=kt(r));var u=(0===e?n:n>>>e)&y,s=1<<u,c=this.bitmap,l=0!=(c&s);if(!l&&i===g)return this;var f=me(c&s-1),_=this.nodes,d=l?_[f]:void 0,h=ae(d,t,e+v,n,r,i,o,a);if(h===d)return this;if(!l&&h&&_.length>=Ce)return fe(t,_,c,u,h);if(l&&!h&&2===_.length&&ue(_[1^f]))return _[1^f];if(l&&h&&1===_.length&&ue(h))return h;var p=t&&t===this.ownerID,m=l?h?c:c^s:c|s,b=l?h?ye(_,f,h,p):be(_,f,p):ge(_,f,h,p);return p?(this.bitmap=m,this.nodes=b,this):new Gt(t,m,b)},Yt.prototype.get=function(t,e,n,r){void 0===e&&(e=kt(n));var i=(0===t?e:e>>>t)&y,o=this.nodes[i];return o?o.get(t+v,e,n,r):r},Yt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=kt(r));var u=(0===e?n:n>>>e)&y,s=i===g,c=this.nodes,l=c[u];if(s&&!l)return this;var f=ae(l,t,e+v,n,r,i,o,a);if(f===l)return this;var _=this.count;if(l){if(!f&&--_<Ee)return le(t,c,_,u)}else _++;var d=t&&t===this.ownerID,h=ye(c,u,f,d);return d?(this.count=_,this.nodes=h,this):new Yt(t,_,h)},$t.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(mt(n,i[o][0]))return i[o][1];return r},$t.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=kt(r));var u=i===g;if(n!==this.keyHash)return u?this:(E(a),E(o),se(this,t,e,n,[r,i]));for(var s=this.entries,c=0,l=s.length;c<l&&!mt(r,s[c][0]);c++);var f=c<l;if(f?s[c][1]===i:u)return this;if(E(a),(u||!f)&&E(o),u&&2===l)return new Xt(t,this.keyHash,s[1^c]);var _=t&&t===this.ownerID,d=_?s:M(s);return f?u?c===l-1?d.pop():d[c]=d.pop():d[c]=[r,i]:d.push([r,i]),_?(this.entries=d,this):new $t(t,this.keyHash,d)},Xt.prototype.get=function(t,e,n,r){return mt(n,this.entry[0])?this.entry[1]:r},Xt.prototype.update=function(t,e,n,r,i,o,a){var u=i===g,s=mt(r,this.entry[0]);return(s?i===this.entry[1]:u)?this:(E(a),u?void E(o):s?t&&t===this.ownerID?(this.entry[1]=i,this):new Xt(t,this.keyHash,[r,i]):(E(o),se(this,t,e,kt(r),[r,i])))},Jt.prototype.iterate=$t.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Gt.prototype.iterate=Yt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Xt.prototype.iterate=function(t,e){return t(this.entry)},e(te,L),te.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return ee(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return ee(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return ee(t,o.entry);e=this._stack=ne(o,e)}continue}e=this._stack=this._stack.__prev}return B()};var we=m/4,Ce=m/2,Ee=m/4;function Se(t){var e=Te();if(null==t)return e;if(Me(t))return t;var n=i(t),r=n.size;return 0===r?e:(Zt(r),r>0&&r<m?De(0,r,v,null,new ke(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function Me(t){return!(!t||!t[xe])}e(Se,St),Se.of=function(){return this(arguments)},Se.prototype.toString=function(){return this.__toString("List [","]")},Se.prototype.get=function(t,e){if((t=I(this,t))>=0&&t<this.size){var n=He(this,t+=this._origin);return n&&n.array[t&y]}return e},Se.prototype.set=function(t,e){return Re(this,t,e)},Se.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Se.prototype.insert=function(t,e){return this.splice(t,0,e)},Se.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Te()},Se.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){Le(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},Se.prototype.pop=function(){return Le(this,0,-1)},Se.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){Le(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},Se.prototype.shift=function(){return Le(this,1)},Se.prototype.merge=function(){return Ve(this,void 0,arguments)},Se.prototype.mergeWith=function(e){return Ve(this,e,t.call(arguments,1))},Se.prototype.mergeDeep=function(){return Ve(this,de,arguments)},Se.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Ve(this,he(e),n)},Se.prototype.setSize=function(t){return Le(this,0,t)},Se.prototype.slice=function(t,e){var n=this.size;return O(t,e,n)?this:Le(this,j(t,n),z(e,n))},Se.prototype.__iterator=function(t,e){var n=0,r=Ae(this,e);return new L((function(){var e=r();return e===ze?B():V(t,n++,e)}))},Se.prototype.__iterate=function(t,e){for(var n,r=0,i=Ae(this,e);(n=i())!==ze&&!1!==t(n,r++,this););return r},Se.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?De(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Se.isList=Me;var xe="@@__IMMUTABLE_LIST__@@",Ie=Se.prototype;function ke(t,e){this.array=t,this.ownerID=e}Ie[xe]=!0,Ie[p]=Ie.remove,Ie.setIn=Qt.setIn,Ie.deleteIn=Ie.removeIn=Qt.removeIn,Ie.update=Qt.update,Ie.updateIn=Qt.updateIn,Ie.mergeIn=Qt.mergeIn,Ie.mergeDeepIn=Qt.mergeDeepIn,Ie.withMutations=Qt.withMutations,Ie.asMutable=Qt.asMutable,Ie.asImmutable=Qt.asImmutable,Ie.wasAltered=Qt.wasAltered,ke.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&y;if(r>=this.array.length)return new ke([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-v,n))===a&&o)return this}if(o&&!i)return this;var u=Pe(this,t);if(!o)for(var s=0;s<r;s++)u.array[s]=void 0;return i&&(u.array[r]=i),u},ke.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&y;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-v,n))===o&&i===this.array.length-1)return this}var a=Pe(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Oe,je,ze={};function Ae(t,e){var n=t._origin,r=t._capacity,i=Be(r),o=t._tail;return a(t._root,t._level,0);function a(t,e,n){return 0===e?u(t,n):s(t,e,n)}function u(t,a){var u=a===i?o&&o.array:t&&t.array,s=a>n?0:n-a,c=r-a;return c>m&&(c=m),function(){if(s===c)return ze;var t=e?--c:s++;return u&&u[t]}}function s(t,i,o){var u,s=t&&t.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);return l>m&&(l=m),function(){for(;;){if(u){var t=u();if(t!==ze)return t;u=null}if(c===l)return ze;var n=e?--l:c++;u=a(s&&s[n],i-v,o+(n<<i))}}}}function De(t,e,n,r,i,o,a){var u=Object.create(Ie);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Te(){return Oe||(Oe=De(0,0,v))}function Re(t,e,n){if((e=I(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?Le(t,e).set(0,n):Le(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o=C(w);return e>=Be(t._capacity)?r=Ne(r,t.__ownerID,0,e,n,o):i=Ne(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):De(t._origin,t._capacity,t._level,i,r):t}function Ne(t,e,n,r,i,o){var a,u=r>>>n&y,s=t&&u<t.array.length;if(!s&&void 0===i)return t;if(n>0){var c=t&&t.array[u],l=Ne(c,e,n-v,r,i,o);return l===c?t:((a=Pe(t,e)).array[u]=l,a)}return s&&t.array[u]===i?t:(E(o),a=Pe(t,e),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function Pe(t,e){return e&&t&&e===t.ownerID?t:new ke(t?t.array.slice():[],e)}function He(t,e){if(e>=Be(t._capacity))return t._tail;if(e<1<<t._level+v){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&y],r-=v;return n}}function Le(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new S,i=t._origin,o=t._capacity,a=i+e,u=void 0===n?o:n<0?o+n:i+n;if(a===i&&u===o)return t;if(a>=u)return t.clear();for(var s=t._level,c=t._root,l=0;a+l<0;)c=new ke(c&&c.array.length?[void 0,c]:[],r),l+=1<<(s+=v);l&&(a+=l,i+=l,u+=l,o+=l);for(var f=Be(o),_=Be(u);_>=1<<s+v;)c=new ke(c&&c.array.length?[c]:[],r),s+=v;var d=t._tail,h=_<f?He(t,u-1):_>f?new ke([],r):d;if(d&&_>f&&a<o&&d.array.length){for(var p=c=Pe(c,r),m=s;m>v;m-=v){var g=f>>>m&y;p=p.array[g]=Pe(p.array[g],r)}p.array[f>>>v&y]=d}if(u<o&&(h=h&&h.removeAfter(r,0,u)),a>=_)a-=_,u-=_,s=v,c=null,h=h&&h.removeBefore(r,0,a);else if(a>i||_<f){for(l=0;c;){var b=a>>>s&y;if(b!==_>>>s&y)break;b&&(l+=(1<<s)*b),s-=v,c=c.array[b]}c&&a>i&&(c=c.removeBefore(r,s,a-l)),c&&_<f&&(c=c.removeAfter(r,s,_-l)),l&&(a-=l,u-=l)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=s,t._root=c,t._tail=h,t.__hash=void 0,t.__altered=!0,t):De(a,u,s,c,h)}function Ve(t,e,n){for(var r=[],o=0,u=0;u<n.length;u++){var s=n[u],c=i(s);c.size>o&&(o=c.size),a(s)||(c=c.map((function(t){return dt(t)}))),r.push(c)}return o>t.size&&(t=t.setSize(o)),pe(t,e,r)}function Be(t){return t<m?0:t-1>>>v<<v}function qe(t){return null==t?Ke():Ze(t)?t:Ke().withMutations((function(e){var n=r(t);Zt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Ze(t){return Kt(t)&&l(t)}function Ue(t,e,n,r){var i=Object.create(qe.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function Ke(){return je||(je=Ue(ie(),Te()))}function Fe(t,e,n){var r,i,o=t._map,a=t._list,u=o.get(e),s=void 0!==u;if(n===g){if(!s)return t;a.size>=m&&a.size>=2*o.size?(r=(i=a.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=u===a.size-1?a.pop():a.set(u,void 0))}else if(s){if(n===a.get(u)[1])return t;r=o,i=a.set(u,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Ue(r,i)}function We(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Qe(t){this._iter=t,this.size=t.size}function Je(t){this._iter=t,this.size=t.size}function Ge(t){this._iter=t,this.size=t.size}function Ye(t){var e=gn(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=bn,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(e===R){var r=t.__iterator(e,n);return new L((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===T?D:T,n)},e}function $e(t,e,n){var r=gn(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,g);return o===g?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(R,i);return new L((function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return V(r,u,e.call(n,a[1],u,t),i)}))},r}function Xe(t,e){var n=gn(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Ye(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=bn,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function tn(t,e,n,r){var i=gn(t);return r&&(i.has=function(r){var i=t.get(r,g);return i!==g&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,g);return o!==g&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return t.__iterate((function(t,o,s){if(e.call(n,t,o,s))return u++,i(t,r?o:u-1,a)}),o),u},i.__iteratorUncached=function(i,o){var a=t.__iterator(R,o),u=0;return new L((function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value,c=s[0],l=s[1];if(e.call(n,l,c,t))return V(i,r?c:u++,l,o)}}))},i}function en(t,e,n){var r=Ut().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}function nn(t,e,n){var r=u(t),i=(l(t)?qe():Ut()).asMutable();t.__iterate((function(o,a){i.update(e.call(n,o,a,t),(function(t){return(t=t||[]).push(r?[a,o]:o),t}))}));var o=yn(t);return i.map((function(e){return pn(t,o(e))}))}function rn(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=i:n|=0),O(e,n,i))return t;var o=j(e,i),a=z(n,i);if(o!=o||a!=a)return rn(t.toSeq().cacheResult(),e,n,r);var u,s=a-o;s==s&&(u=s<0?0:s);var c=gn(t);return c.size=0===u?u:t.size&&u||void 0,!r&&ot(t)&&u>=0&&(c.get=function(e,n){return(e=I(this,e))>=0&&e<u?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,s=!0,c=0;return t.__iterate((function(t,n){if(!s||!(s=a++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==u})),c},c.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);var i=0!==u&&t.__iterator(e,n),a=0,s=0;return new L((function(){for(;a++<o;)i.next();if(++s>u)return B();var t=i.next();return r||e===T?t:V(e,s-1,e===D?void 0:t.value[1],t)}))},c}function on(t,e,n){var r=gn(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate((function(t,i,u){return e.call(n,t,i,u)&&++a&&r(t,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(R,i),u=!0;return new L((function(){if(!u)return B();var t=a.next();if(t.done)return t;var i=t.value,s=i[0],c=i[1];return e.call(n,c,s,o)?r===R?t:V(r,s,c,t):(u=!1,B())}))},r}function an(t,e,n,r){var i=gn(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,s=0;return t.__iterate((function(t,o,c){if(!u||!(u=e.call(n,t,o,c)))return s++,i(t,r?o:s-1,a)})),s},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=t.__iterator(R,o),s=!0,c=0;return new L((function(){var t,o,l;do{if((t=u.next()).done)return r||i===T?t:V(i,c++,i===D?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],s&&(s=e.call(n,l,o,a))}while(s);return i===R?t:V(i,o,l,t)}))},i}function un(t,e){var n=u(t),i=[t].concat(e).map((function(t){return a(t)?n&&(t=r(t)):t=n?ut(t):st(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&u(o)||s(t)&&s(o))return o}var c=new et(i);return n?c=c.toKeyedSeq():s(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),c}function sn(t,e,n){var r=gn(t);return r.__iterateUncached=function(r,i){var o=0,u=!1;function s(t,c){var l=this;t.__iterate((function(t,i){return(!e||c<e)&&a(t)?s(t,c+1):!1===r(t,n?i:o++,l)&&(u=!0),!u}),i)}return s(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),u=[],s=0;return new L((function(){for(;o;){var t=o.next();if(!1===t.done){var c=t.value;if(r===R&&(c=c[1]),e&&!(u.length<e)||!a(c))return n?t:V(r,s++,c,t);u.push(o),o=c.__iterator(r,i)}else o=u.pop()}return B()}))},r}function cn(t,e,n){var r=yn(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}function ln(t,e){var n=gn(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(T,r),a=0;return new L((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?V(n,a++,e):V(n,a++,i.value,i)}))},n}function fn(t,e,n){e||(e=wn);var r=u(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?Q(o):s(t)?J(o):G(o)}function _n(t,e,n){if(e||(e=wn),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return dn(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return dn(e,t,n)?n:t}))}function dn(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function hn(t,e,r){var i=gn(t);return i.size=new et(r).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(T,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=n(t),U(i?t.reverse():t)})),a=0,u=!1;return new L((function(){var n;return u||(n=o.map((function(t){return t.next()})),u=n.some((function(t){return t.done}))),u?B():V(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function pn(t,e){return ot(t)?e:t.constructor(e)}function vn(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function mn(t){return Zt(t.size),x(t)}function yn(t){return u(t)?r:s(t)?i:o}function gn(t){return Object.create((u(t)?Q:s(t)?J:G).prototype)}function bn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function wn(t,e){return t>e?1:t<e?-1:0}function Cn(t){var e=U(t);if(!e){if(!F(t))throw new TypeError("Expected iterable or array-like: "+t);e=U(n(t))}return e}function En(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);In(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=Ut(o)},i=r.prototype=Object.create(Sn);return i.constructor=r,r}e(qe,Ut),qe.of=function(){return this(arguments)},qe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},qe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ke()},qe.prototype.set=function(t,e){return Fe(this,t,e)},qe.prototype.remove=function(t){return Fe(this,t,g)},qe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},qe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},qe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ue(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},qe.isOrderedMap=Ze,qe.prototype[h]=!0,qe.prototype[p]=qe.prototype.remove,e(We,Q),We.prototype.get=function(t,e){return this._iter.get(t,e)},We.prototype.has=function(t){return this._iter.has(t)},We.prototype.valueSeq=function(){return this._iter.valueSeq()},We.prototype.reverse=function(){var t=this,e=Xe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},We.prototype.map=function(t,e){var n=this,r=$e(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},We.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?mn(this):0,function(i){return t(i,e?--n:n++,r)}),e)},We.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(T,e),r=e?mn(this):0;return new L((function(){var i=n.next();return i.done?i:V(t,e?--r:r++,i.value,i)}))},We.prototype[h]=!0,e(Qe,J),Qe.prototype.includes=function(t){return this._iter.includes(t)},Qe.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Qe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(T,e),r=0;return new L((function(){var e=n.next();return e.done?e:V(t,r++,e.value,e)}))},e(Je,G),Je.prototype.has=function(t){return this._iter.includes(t)},Je.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Je.prototype.__iterator=function(t,e){var n=this._iter.__iterator(T,e);return new L((function(){var e=n.next();return e.done?e:V(t,e.value,e.value,e)}))},e(Ge,Q),Ge.prototype.entrySeq=function(){return this._iter.toSeq()},Ge.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){vn(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Ge.prototype.__iterator=function(t,e){var n=this._iter.__iterator(T,e);return new L((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){vn(r);var i=a(r);return V(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},Qe.prototype.cacheResult=We.prototype.cacheResult=Je.prototype.cacheResult=Ge.prototype.cacheResult=bn,e(En,Et),En.prototype.toString=function(){return this.__toString(xn(this)+" {","}")},En.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},En.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},En.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Mn(this,ie()))},En.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+xn(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Mn(this,n)},En.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Mn(this,e)},En.prototype.wasAltered=function(){return this._map.wasAltered()},En.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},En.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},En.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Mn(this,e,t):(this.__ownerID=t,this._map=e,this)};var Sn=En.prototype;function Mn(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function xn(t){return t._name||t.constructor.name||"Record"}function In(t,e){try{e.forEach(kn.bind(void 0,t))}catch(t){}}function kn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){bt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function On(t){return null==t?Nn():jn(t)&&!l(t)?t:Nn().withMutations((function(e){var n=o(t);Zt(n.size),n.forEach((function(t){return e.add(t)}))}))}function jn(t){return!(!t||!t[An])}Sn[p]=Sn.remove,Sn.deleteIn=Sn.removeIn=Qt.removeIn,Sn.merge=Qt.merge,Sn.mergeWith=Qt.mergeWith,Sn.mergeIn=Qt.mergeIn,Sn.mergeDeep=Qt.mergeDeep,Sn.mergeDeepWith=Qt.mergeDeepWith,Sn.mergeDeepIn=Qt.mergeDeepIn,Sn.setIn=Qt.setIn,Sn.update=Qt.update,Sn.updateIn=Qt.updateIn,Sn.withMutations=Qt.withMutations,Sn.asMutable=Qt.asMutable,Sn.asImmutable=Qt.asImmutable,e(On,Mt),On.of=function(){return this(arguments)},On.fromKeys=function(t){return this(r(t).keySeq())},On.prototype.toString=function(){return this.__toString("Set {","}")},On.prototype.has=function(t){return this._map.has(t)},On.prototype.add=function(t){return Tn(this,this._map.set(t,!0))},On.prototype.remove=function(t){return Tn(this,this._map.remove(t))},On.prototype.clear=function(){return Tn(this,this._map.clear())},On.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},On.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},On.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},On.prototype.merge=function(){return this.union.apply(this,arguments)},On.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},On.prototype.sort=function(t){return Pn(fn(this,t))},On.prototype.sortBy=function(t,e){return Pn(fn(this,e,t))},On.prototype.wasAltered=function(){return this._map.wasAltered()},On.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},On.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},On.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},On.isSet=jn;var zn,An="@@__IMMUTABLE_SET__@@",Dn=On.prototype;function Tn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Rn(t,e){var n=Object.create(Dn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Nn(){return zn||(zn=Rn(ie()))}function Pn(t){return null==t?qn():Hn(t)?t:qn().withMutations((function(e){var n=o(t);Zt(n.size),n.forEach((function(t){return e.add(t)}))}))}function Hn(t){return jn(t)&&l(t)}Dn[An]=!0,Dn[p]=Dn.remove,Dn.mergeDeep=Dn.merge,Dn.mergeDeepWith=Dn.mergeWith,Dn.withMutations=Qt.withMutations,Dn.asMutable=Qt.asMutable,Dn.asImmutable=Qt.asImmutable,Dn.__empty=Nn,Dn.__make=Rn,e(Pn,On),Pn.of=function(){return this(arguments)},Pn.fromKeys=function(t){return this(r(t).keySeq())},Pn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Pn.isOrderedSet=Hn;var Ln,Vn=Pn.prototype;function Bn(t,e){var n=Object.create(Vn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qn(){return Ln||(Ln=Bn(Ke()))}function Zn(t){return null==t?Jn():Un(t)?t:Jn().unshiftAll(t)}function Un(t){return!(!t||!t[Fn])}Vn[h]=!0,Vn.__empty=qn,Vn.__make=Bn,e(Zn,St),Zn.of=function(){return this(arguments)},Zn.prototype.toString=function(){return this.__toString("Stack [","]")},Zn.prototype.get=function(t,e){var n=this._head;for(t=I(this,t);n&&t--;)n=n.next;return n?n.value:e},Zn.prototype.peek=function(){return this._head&&this._head.value},Zn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Qn(t,e)},Zn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Zt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Qn(e,n)},Zn.prototype.pop=function(){return this.slice(1)},Zn.prototype.unshift=function(){return this.push.apply(this,arguments)},Zn.prototype.unshiftAll=function(t){return this.pushAll(t)},Zn.prototype.shift=function(){return this.pop.apply(this,arguments)},Zn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Zn.prototype.slice=function(t,e){if(O(t,e,this.size))return this;var n=j(t,this.size);if(z(e,this.size)!==this.size)return St.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Qn(r,i)},Zn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Zn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Zn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new L((function(){if(r){var e=r.value;return r=r.next,V(t,n++,e)}return B()}))},Zn.isStack=Un;var Kn,Fn="@@__IMMUTABLE_STACK__@@",Wn=Zn.prototype;function Qn(t,e,n,r){var i=Object.create(Wn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Jn(){return Kn||(Kn=Qn(0))}function Gn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}Wn[Fn]=!0,Wn.withMutations=Qt.withMutations,Wn.asMutable=Qt.asMutable,Wn.asImmutable=Qt.asImmutable,Wn.wasAltered=Qt.wasAltered,n.Iterator=L,Gn(n,{toArray:function(){Zt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Qe(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new We(this,!0)},toMap:function(){return Ut(this.toKeyedSeq())},toObject:function(){Zt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return qe(this.toKeyedSeq())},toOrderedSet:function(){return Pn(u(this)?this.valueSeq():this)},toSet:function(){return On(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Je(this)},toSeq:function(){return s(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Zn(u(this)?this.valueSeq():this)},toList:function(){return Se(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return pn(this,un(this,t.call(arguments,0)))},includes:function(t){return this.some((function(e){return mt(e,t)}))},entries:function(){return this.__iterator(R)},every:function(t,e){Zt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return pn(this,tn(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Zt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Zt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(D)},map:function(t,e){return pn(this,$e(this,t,e))},reduce:function(t,e,n){var r,i;return Zt(this.size),arguments.length<2?i=!0:r=e,this.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return pn(this,Xe(this,!0))},slice:function(t,e){return pn(this,rn(this,t,e,!0))},some:function(t,e){return!this.every(er(t),e)},sort:function(t){return pn(this,fn(this,t))},values:function(){return this.__iterator(T)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return x(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return en(this,t,e)},equals:function(t){return yt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(tr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(er(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(k)},flatMap:function(t,e){return pn(this,cn(this,t,e))},flatten:function(t){return pn(this,sn(this,t,!0))},fromEntrySeq:function(){return new Ge(this)},get:function(t,e){return this.find((function(e,n){return mt(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,i=Cn(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,g):g)===g)return e}return r},groupBy:function(t,e){return nn(this,t,e)},has:function(t){return this.get(t,g)!==g},hasIn:function(t){return this.getIn(t,g)!==g},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return mt(e,t)}))},keySeq:function(){return this.toSeq().map(Xn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return _n(this,t)},maxBy:function(t,e){return _n(this,e,t)},min:function(t){return _n(this,t?nr(t):or)},minBy:function(t,e){return _n(this,e?nr(e):or,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return pn(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return pn(this,an(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(er(t),e)},sortBy:function(t,e){return pn(this,fn(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return pn(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return pn(this,on(this,t,e))},takeUntil:function(t,e){return this.takeWhile(er(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Yn=n.prototype;Yn[f]=!0,Yn[H]=Yn.values,Yn.__toJS=Yn.toArray,Yn.__toStringMapper=rr,Yn.inspect=Yn.toSource=function(){return this.toString()},Yn.chain=Yn.flatMap,Yn.contains=Yn.includes,Gn(r,{flip:function(){return pn(this,Ye(this))},mapEntries:function(t,e){var n=this,r=0;return pn(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return pn(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var $n=r.prototype;function Xn(t,e){return e}function tr(t,e){return[e,t]}function er(t){return function(){return!t.apply(this,arguments)}}function nr(t){return function(){return-t.apply(this,arguments)}}function rr(t){return"string"==typeof t?JSON.stringify(t):String(t)}function ir(){return M(arguments)}function or(t,e){return t<e?1:t>e?-1:0}function ar(t){if(t.size===1/0)return 0;var e=l(t),n=u(t),r=e?1:0;return ur(t.__iterate(n?e?function(t,e){r=31*r+sr(kt(t),kt(e))|0}:function(t,e){r=r+sr(kt(t),kt(e))|0}:e?function(t){r=31*r+kt(t)|0}:function(t){r=r+kt(t)|0}),r)}function ur(t,e){return e=xt(e,3432918353),e=xt(e<<15|e>>>-15,461845907),e=xt(e<<13|e>>>-13,5),e=xt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=It((e=xt(e^e>>>13,3266489909))^e>>>16)}function sr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return $n[_]=!0,$n[H]=Yn.entries,$n.__toJS=Yn.toObject,$n.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+rr(t)},Gn(i,{toKeyedSeq:function(){return new We(this,!1)},filter:function(t,e){return pn(this,tn(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return pn(this,Xe(this,!1))},slice:function(t,e){return pn(this,rn(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=j(t,t<0?this.count():this.size);var r=this.slice(0,t);return pn(this,1===n?r:r.concat(M(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return pn(this,sn(this,t,!1))},get:function(t,e){return(t=I(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=I(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return pn(this,ln(this,t))},interleave:function(){var t=[this].concat(M(arguments)),e=hn(this.toSeq(),J.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),pn(this,n)},keySeq:function(){return wt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return pn(this,an(this,t,e,!1))},zip:function(){return pn(this,hn(this,ir,[this].concat(M(arguments))))},zipWith:function(t){var e=M(arguments);return e[0]=this,pn(this,hn(this,t,e))}}),i.prototype[d]=!0,i.prototype[h]=!0,Gn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Yn.includes,o.prototype.contains=o.prototype.includes,Gn(Q,r.prototype),Gn(J,i.prototype),Gn(G,o.prototype),Gn(Et,r.prototype),Gn(St,i.prototype),Gn(Mt,o.prototype),{Iterable:n,Seq:W,Collection:Ct,Map:Ut,OrderedMap:qe,List:Se,Stack:Zn,Set:On,OrderedSet:Pn,Record:En,Range:wt,Repeat:gt,is:mt,fromJS:dt}}()},95998:function(t,e,n){"use strict";n.d(e,{zt:function(){return b},I0:function(){return S},v9:function(){return p}});var r=n(61688),i=n(52798),o=n(97170);let a=function(t){t()};const u=()=>a;var s=n(84481),c=n.n(s);const l=c().createContext(null);function f(){return(0,s.useContext)(l)}let _=()=>{throw new Error("uSES not initialized!")};const d=(t,e)=>t===e;function h(t=l){const e=t===l?f:()=>(0,s.useContext)(t);return function(t,n=d){const{store:r,subscription:i,getServerState:o}=e(),a=_(i.addNestedSub,r.getState,o||r.getState,t,n);return(0,s.useDebugValue)(a),a}}const p=h();n(8679),n(59864);const v={notify(){},get:()=>[]};function m(t,e){let n,r=v;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=e?e.addNestedSub(i):t.subscribe(i),r=function(){const t=u();let e=null,n=null;return{clear(){e=null,n=null},notify(){t((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}const a={addNestedSub:function(t){return o(),r.subscribe(t)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=v)},getListeners:()=>r};return a}const y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?s.useLayoutEffect:s.useEffect;let g=null;var b=function({store:t,context:e,children:n,serverState:r}){const i=(0,s.useMemo)((()=>{const e=m(t);return{store:t,subscription:e,getServerState:r?()=>r:void 0}}),[t,r]),o=(0,s.useMemo)((()=>t.getState()),[t]);y((()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[i,o]);const a=e||l;return c().createElement(a.Provider,{value:i},n)};function w(t=l){const e=t===l?f:()=>(0,s.useContext)(t);return function(){const{store:t}=e();return t}}const C=w();function E(t=l){const e=t===l?C:w(t);return function(){return e().dispatch}}const S=E();var M,x;M=i.useSyncExternalStoreWithSelector,_=M,(t=>{g=t})(r.useSyncExternalStore),x=o.unstable_batchedUpdates,a=x},27428:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(43393),o=(r=i)&&r.__esModule?r:{default:r},a=n(79607);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.Map,n=Object.keys(t);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(),i=arguments[1];return r.withMutations((function(e){n.forEach((function(n){var r=(0,t[n])(e.get(n),i);(0,a.validateNextState)(r,n,i),e.set(n,r)}))}))}},t.exports=e.default},72739:function(t,e,n){"use strict";e.U=void 0;var r,i=n(27428),o=(r=i)&&r.__esModule?r:{default:r};e.U=o.default},94528:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t&&"@@redux/INIT"===t.type?"initialState argument passed to createStore":"previous state received by the reducer"},t.exports=e.default},93651:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(43393)),i=o(n(94528));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){var o=Object.keys(e);if(!o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var a=(0,i.default)(n);if(r.default.isImmutable?!r.default.isImmutable(t):!r.default.Iterable.isIterable(t))return"The "+a+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+o.join('", "')+'".';var u=t.toSeq().keySeq().toArray().filter((function(t){return!e.hasOwnProperty(t)}));return u.length>0?"Unexpected "+(1===u.length?"property":"properties")+' "'+u.join('", "')+'" found in '+a+'. Expected to find one of the known reducer property names instead: "'+o.join('", "')+'". Unexpected properties will be ignored.':null},t.exports=e.default},79607:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateNextState=e.getUnexpectedInvocationParameterMessage=e.getStateName=void 0;var r=a(n(94528)),i=a(n(93651)),o=a(n(85527));function a(t){return t&&t.__esModule?t:{default:t}}e.getStateName=r.default,e.getUnexpectedInvocationParameterMessage=i.default,e.validateNextState=o.default},85527:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(void 0===t)throw new Error('Reducer "'+e+'" returned undefined when handling "'+n.type+'" action. To ignore an action, you must explicitly return the previous state.')},t.exports=e.default},53894:function(t,e){"use strict";function n(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}var r=n();r.withExtraArgument=n,e.Z=r},14791:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}function o(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}n.d(e,{md:function(){return p},qC:function(){return h},MT:function(){return d}});var c="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},f={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function _(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function d(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(s(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(s(1));return n(d)(t,e)}if("function"!=typeof t)throw new Error(s(2));var i=t,o=e,a=[],u=a,l=!1;function h(){u===a&&(u=a.slice())}function p(){if(l)throw new Error(s(3));return o}function v(t){if("function"!=typeof t)throw new Error(s(4));if(l)throw new Error(s(5));var e=!0;return h(),u.push(t),function(){if(e){if(l)throw new Error(s(6));e=!1,h();var n=u.indexOf(t);u.splice(n,1),a=null}}}function m(t){if(!_(t))throw new Error(s(7));if(void 0===t.type)throw new Error(s(8));if(l)throw new Error(s(9));try{l=!0,o=i(o,t)}finally{l=!1}for(var e=a=u,n=0;n<e.length;n++){(0,e[n])()}return t}return m({type:f.INIT}),(r={dispatch:m,subscribe:v,getState:p,replaceReducer:function(t){if("function"!=typeof t)throw new Error(s(10));i=t,m({type:f.REPLACE})}})[c]=function(){var t,e=v;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(s(11));function n(){t.next&&t.next(p())}return n(),{unsubscribe:e(n)}}})[c]=function(){return this},t},r}function h(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(s(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return r=h.apply(void 0,o)(n.dispatch),u(u({},n),{},{dispatch:r})}}}},53250:function(t,e,n){"use strict";var r=n(84481);var i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},o=r.useState,a=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch(t){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=o({inst:{value:n,getSnapshot:e}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=e,c(i)&&l({inst:i})}),[t,n,e]),a((function(){return c(i)&&l({inst:i}),t((function(){c(i)&&l({inst:i})}))}),[t]),s(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},50139:function(t,e,n){"use strict";var r=n(84481),i=n(61688);var o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},a=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var f=u(null);if(null===f.current){var _={hasValue:!1,value:null};f.current=_}else _=f.current;f=c((function(){function t(t){if(!s){if(s=!0,a=t,t=r(t),void 0!==i&&_.hasValue){var e=_.value;if(i(e,t))return u=e}return u=t}if(e=u,o(a,t))return e;var n=r(t);return void 0!==i&&i(e,n)?e:(a=t,u=n)}var a,u,s=!1,c=void 0===n?null:n;return[function(){return t(e())},null===c?void 0:function(){return t(c())}]}),[e,n,r,i]);var d=a(t,f[0],f[1]);return s((function(){_.hasValue=!0,_.value=d}),[d]),l(d),d}},61688:function(t,e,n){"use strict";t.exports=n(53250)},52798:function(t,e,n){"use strict";t.exports=n(50139)}}]);
//# sourceMappingURL=4705-3cd0b804ccf2fbe1de3a.js.map